"use strict";(self.webpackChunkAccelUI=self.webpackChunkAccelUI||[]).push([[733],{2733:(gi,L,A)=>{A.r(L),A.d(L,{ZiweiPanComponent:()=>ri});var H=A(2881),F=A(4341),v=A(3525),O=A(9766),n=A(1360);const w=u=>({"large-font":u}),D=()=>["\u5316\u7984","\u5316\u6743","\u5316\u79d1","\u5316\u5fcc"],E=(u,c,i,t,e)=>({sheng:u,ke:c,beisheng:i,beike:t,bihe:e});function k(u,c){if(1&u&&(n.j41(0,"option",34),n.EFF(1),n.k0s()),2&u){const i=c.$implicit;n.Y8G("value",i.value),n.R7$(),n.JRh(i.label)}}function Z(u,c){if(1&u&&(n.j41(0,"div",35)(1,"span",36),n.EFF(2),n.k0s(),n.j41(3,"span",36),n.EFF(4,"\u{1f449} \u751f\u8fb0\u516b\u5b57\uff1a"),n.j41(5,"b"),n.EFF(6),n.k0s()(),n.j41(7,"span",36),n.EFF(8,"\u{1f449} \u547d\u8eab\u5bab\u4f4d\uff1a"),n.j41(9,"b"),n.EFF(10),n.k0s()()()),2&u){const i=n.XpG();n.R7$(2),n.SpI("\u{1f449} \u519c\u5386\u751f\u8fb0\uff1a",i.getLunarBirthString(),""),n.R7$(4),n.LHq("",i.baZiYear," ",i.baZiMonth," ",i.baZiDay," ",i.baZiShi,""),n.R7$(4),n.E5c("\u547d\u5bab\u3010",i.mingGongZhi,"\u3011 \u8eab\u5bab\u3010",i.shenGongZhi,"/",i.shenGongName,"\u3011")}}function R(u,c){if(1&u&&(n.j41(0,"option",34),n.EFF(1),n.k0s()),2&u){const i=c.$implicit;n.Y8G("value",i),n.R7$(),n.SpI("",i,"\u5e72")}}function j(u,c){if(1&u&&(n.j41(0,"option",34),n.EFF(1),n.k0s()),2&u){const i=c.$implicit;n.Y8G("value",i),n.R7$(),n.SpI("",i,"\u5e74")}}function $(u,c){if(1&u&&(n.qSk(),n.qex(0),n.nrm(1,"path",37),n.bVm()),2&u){const i=c.$implicit,t=n.XpG();n.R7$(),n.Y8G("ngClass","duiGong"===i.type?"path-duigong":"path-sanfang"),n.BMQ("d",t.getStraightPath(i))}}function z(u,c){if(1&u&&(n.qSk(),n.qex(0),n.nrm(1,"path",47),n.bVm()),2&u){const i=c.$implicit,t=n.XpG(2);n.R7$(),n.HbH("path-"+i),n.BMQ("d",t.getFeiHuaPath(t.selectedGong,t.currentFeiHuaTarget[i]))("marker-end",t.feiHuaMarkers[i])}}function B(u,c){1&u&&(n.qSk(),n.j41(0,"svg",38)(1,"defs")(2,"marker",39),n.nrm(3,"path",40),n.k0s(),n.j41(4,"marker",41),n.nrm(5,"path",42),n.k0s(),n.j41(6,"marker",43),n.nrm(7,"path",44),n.k0s(),n.j41(8,"marker",45),n.nrm(9,"path",46),n.k0s()(),n.DNE(10,z,2,4,"ng-container",29),n.k0s()),2&u&&(n.R7$(10),n.Y8G("ngForOf",n.lJ4(1,D)))}function X(u,c){if(1&u){const i=n.RV6();n.j41(0,"div",68),n.bIt("click",function(){const e=n.eBV(i).$implicit,a=n.XpG(3);return n.Njj(a.onDayunClick(e))}),n.j41(1,"span",69),n.EFF(2),n.k0s(),n.j41(3,"span",70),n.EFF(4),n.k0s()()}if(2&u){const i=c.$implicit,t=c.index,e=n.XpG(3);n.AVh("active",i.gongName===e.selectedDayunForTimeline),n.BMQ("data-index",t),n.R7$(2),n.Lme("",i.startYear,"-",i.endYear,""),n.R7$(2),n.JRh(i.ganZhi)}}function U(u,c){if(1&u){const i=n.RV6();n.j41(0,"div",73),n.bIt("click",function(){const e=n.eBV(i).$implicit,a=n.XpG(4);return n.Njj(a.onLiuNianClick(e))}),n.j41(1,"span",74),n.EFF(2),n.k0s(),n.j41(3,"span",75),n.EFF(4),n.k0s(),n.j41(5,"span",76),n.EFF(6),n.k0s()()}if(2&u){const i=c.$implicit,t=c.index,e=n.XpG(4);n.AVh("active",i.year===e.selectedLiuNianYear),n.BMQ("data-index",t),n.R7$(2),n.JRh(i.year),n.R7$(2),n.JRh(i.ganZhi),n.R7$(2),n.SpI("",i.xuSui,"\u5c81")}}function J(u,c){if(1&u&&(n.j41(0,"div",71),n.DNE(1,U,7,6,"div",72),n.k0s()),2&u){const i=n.XpG(3);n.R7$(),n.Y8G("ngForOf",i.displayedLiuNianList)}}function Q(u,c){if(1&u){const i=n.RV6();n.j41(0,"div",79),n.bIt("click",function(){const e=n.eBV(i).$implicit,a=n.XpG(4);return n.Njj(a.onLiuYueClick(e))}),n.j41(1,"span",80),n.EFF(2),n.k0s(),n.j41(3,"span",81),n.EFF(4),n.k0s()()}if(2&u){const i=c.$implicit,t=n.XpG(4);n.AVh("current",i.isCurrent)("selected",t.isLiuYueSelected(i)),n.R7$(2),n.JRh(i.lunarLabel),n.R7$(2),n.JRh(i.ganZhi)}}function q(u,c){if(1&u&&(n.j41(0,"div",77),n.DNE(1,Q,5,6,"div",78),n.k0s()),2&u){const i=n.XpG(3);n.R7$(),n.Y8G("ngForOf",i.displayedLiuYueList)}}function K(u,c){if(1&u&&(n.j41(0,"div",63)(1,"div",64),n.DNE(2,X,5,6,"div",65),n.k0s(),n.DNE(3,J,2,1,"div",66)(4,q,2,1,"div",67),n.k0s()),2&u){const i=n.XpG(2);n.R7$(2),n.Y8G("ngForOf",i.dayunTimeline),n.R7$(),n.Y8G("ngIf",i.displayedLiuNianList.length),n.R7$(),n.Y8G("ngIf",i.displayedLiuYueList.length)}}function W(u,c){if(1&u&&(n.j41(0,"div",48)(1,"div",49)(2,"div",50),n.EFF(3),n.k0s(),n.j41(4,"div",51),n.EFF(5),n.k0s(),n.j41(6,"div",52),n.EFF(7),n.k0s(),n.j41(8,"div",53),n.EFF(9),n.k0s(),n.j41(10,"div",54)(11,"b"),n.EFF(12),n.k0s()(),n.j41(13,"div",55)(14,"b"),n.EFF(15),n.k0s()(),n.j41(16,"div",56)(17,"b"),n.EFF(18),n.EFF(19),n.EFF(20),n.k0s()(),n.j41(21,"div",57)(22,"span",58),n.EFF(23),n.k0s(),n.j41(24,"span",59),n.EFF(25),n.k0s(),n.j41(26,"span",60),n.EFF(27),n.k0s(),n.j41(28,"span",61),n.EFF(29),n.k0s()(),n.DNE(30,K,5,3,"div",62),n.k0s()()),2&u){const i=n.XpG();n.R7$(3),n.JRh(i.personName||"\u672a\u5f55\u5165"),n.R7$(2),n.LHq("",i.personGender," | ",i.yinYangNanNv," | \u4eca\u5e74",i.currentXuSui,"\u865a\u5c81 (",i.currentAge,"\u5468\u5c81)"),n.R7$(2),n.Lme("\u9633\u5386\uff1a",i.solarDate," ",i.getShiLabel(i.solarShi),""),n.R7$(2),n.SpI("\u519c\u5386\uff1a",i.getLunarBirthString(),""),n.R7$(3),n.LHq("\u516b\u5b57\uff1a",i.baZiYear," ",i.baZiMonth," ",i.baZiDay," ",i.baZiShi,""),n.R7$(3),n.LHq("",i.wuXingJu," | ",i.qiYunXuSui,"\u865a\u5c81/",i.qiYunZhouSui,"\u5468\u5c81 \u8d77\u5927\u8fd0 . ",i.isShunXing?"\u987a\u884c":"\u9006\u884c",""),n.R7$(3),n.E5c(" ",i.selectedGong," \u3010",i.DYNAMIC_GONG_MAP[i.selectedGong].gan,"",i.DYNAMIC_GONG_MAP[i.selectedGong].zhi," | "),n.R7$(),n.SpI(" ",i.DYNAMIC_GONG_MAP[i.selectedGong].fangwei,"\u3011 "),n.R7$(),n.LHq(" \u8eab\u5728 ",i.shenGongName," \u3010",i.DYNAMIC_GONG_MAP[i.shenGongName].gan,"",i.DYNAMIC_GONG_MAP[i.shenGongName].zhi," | ",i.DYNAMIC_GONG_MAP[i.shenGongName].fangwei,"\u3011"),n.R7$(3),n.SpI("\u7984 . ",i.currentSiHua.\u5316\u7984,""),n.R7$(2),n.SpI("\u6743 . ",i.currentSiHua.\u5316\u6743,""),n.R7$(2),n.SpI("\u79d1 . ",i.currentSiHua.\u5316\u79d1,""),n.R7$(2),n.SpI("\u5fcc . ",i.currentSiHua.\u5316\u5fcc,""),n.R7$(),n.Y8G("ngIf",i.dayunTimeline.length)}}function V(u,c){1&u&&(n.j41(0,"div",48)(1,"div",82),n.EFF(2,"\u7d2b\u5fae\u6597\u6570\xb7\u6b63\u7edf\u6392\u76d8"),n.nrm(3,"br"),n.EFF(4,"\u8bf7\u5f55\u5165\u9633\u5386\u751f\u8fb0\u540e\u70b9\u51fb\u6392\u76d8"),n.nrm(5,"br"),n.EFF(6,"\u81ea\u52a8\u751f\u6210\u516b\u5b57+\u52a8\u6001\u547d\u76d8"),n.k0s()())}function nn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getLiuYueFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function tn(u,c){if(1&u&&(n.j41(0,"div",108),n.DNE(1,nn,2,2,"span",109),n.k0s()),2&u){const i=n.XpG(2).$implicit,t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.DYNAMIC_GONG_MAP[i.name].liuYueFeiHuaTags)}}function en(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getLiuNianFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function an(u,c){if(1&u&&(n.j41(0,"div",111),n.DNE(1,en,2,2,"span",109),n.k0s()),2&u){const i=n.XpG(2).$implicit,t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.DYNAMIC_GONG_MAP[i.name].liuNianFeiHuaTags)}}function sn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getYearFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function on(u,c){if(1&u&&(n.j41(0,"div",112),n.DNE(1,sn,2,2,"span",109),n.k0s()),2&u){const i=n.XpG(2).$implicit,t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.DYNAMIC_GONG_MAP[i.name].yearFeiHuaTags)}}function un(u,c){if(1&u&&(n.j41(0,"div",104),n.DNE(1,tn,2,1,"div",105)(2,an,2,1,"div",106)(3,on,2,1,"div",107),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.Y8G("ngIf",null==t.DYNAMIC_GONG_MAP[i.name].liuYueFeiHuaTags?null:t.DYNAMIC_GONG_MAP[i.name].liuYueFeiHuaTags.length),n.R7$(),n.Y8G("ngIf",null==t.DYNAMIC_GONG_MAP[i.name].liuNianFeiHuaTags?null:t.DYNAMIC_GONG_MAP[i.name].liuNianFeiHuaTags.length),n.R7$(),n.Y8G("ngIf",null==t.DYNAMIC_GONG_MAP[i.name].yearFeiHuaTags?null:t.DYNAMIC_GONG_MAP[i.name].yearFeiHuaTags.length)}}function rn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.ngIf,t=n.XpG(4);n.Y8G("ngClass",t.getYearFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function gn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.ngIf,t=n.XpG(4);n.Y8G("ngClass",t.getDayunFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function cn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getLiuNianFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function ln(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getLiuYueFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function hn(u,c){if(1&u&&(n.j41(0,"div",115)(1,"span",116),n.EFF(2),n.k0s(),n.j41(3,"span",117),n.EFF(4),n.k0s(),n.DNE(5,rn,2,2,"span",118)(6,gn,2,2,"span",118)(7,cn,2,2,"span",109)(8,ln,2,2,"span",109),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(2).$implicit,e=n.XpG();n.R7$(),n.AVh("highlight-star",e.shouldHighlightStar(i))("sihua-hover-lu","\u5316\u7984"===e.getHoverSiHuaType(i))("sihua-hover-quan","\u5316\u6743"===e.getHoverSiHuaType(i))("sihua-hover-ke","\u5316\u79d1"===e.getHoverSiHuaType(i))("sihua-hover-ji","\u5316\u5fcc"===e.getHoverSiHuaType(i))("sihua-click-lu","\u5316\u7984"===e.getTransientClickSiHuaType(i))("sihua-click-quan","\u5316\u6743"===e.getTransientClickSiHuaType(i))("sihua-click-ke","\u5316\u79d1"===e.getTransientClickSiHuaType(i))("sihua-click-ji","\u5316\u5fcc"===e.getTransientClickSiHuaType(i))("sihua-star-lu","\u5316\u7984"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u7984")||e.isDayunSiHuaType(i,"\u5316\u7984"))("sihua-star-quan","\u5316\u6743"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u6743")||e.isDayunSiHuaType(i,"\u5316\u6743"))("sihua-star-ke","\u5316\u79d1"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u79d1")||e.isDayunSiHuaType(i,"\u5316\u79d1"))("sihua-star-ji","\u5316\u5fcc"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u5fcc")||e.isDayunSiHuaType(i,"\u5316\u5fcc"))("sihua-year-lu",e.isYearSiHuaType(i,"\u5316\u7984"))("sihua-year-quan",e.isYearSiHuaType(i,"\u5316\u6743"))("sihua-year-ke",e.isYearSiHuaType(i,"\u5316\u79d1"))("sihua-year-ji",e.isYearSiHuaType(i,"\u5316\u5fcc"))("sihua-dayun-lu",e.isDayunSiHuaType(i,"\u5316\u7984"))("sihua-dayun-quan",e.isDayunSiHuaType(i,"\u5316\u6743"))("sihua-dayun-ke",e.isDayunSiHuaType(i,"\u5316\u79d1"))("sihua-dayun-ji",e.isDayunSiHuaType(i,"\u5316\u5fcc")),n.R7$(),n.JRh(i),n.R7$(2),n.JRh(e.getStarBrightness(t.name,i)),n.R7$(),n.Y8G("ngIf",e.getYearFeiHuaLabelForStar(i)),n.R7$(),n.Y8G("ngIf",e.getDayunFeiHuaLabelForStar(i)),n.R7$(),n.Y8G("ngForOf",e.getLiuNianFeiHuaLabelsForStar(i)),n.R7$(),n.Y8G("ngForOf",e.getLiuYueFeiHuaLabelsForStar(i))}}function dn(u,c){if(1&u&&(n.j41(0,"div",113),n.DNE(1,hn,9,48,"div",114),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.getShaXingTag(i.name))}}function pn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.ngIf,t=n.XpG(4);n.Y8G("ngClass",t.getYearFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function _n(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.ngIf,t=n.XpG(4);n.Y8G("ngClass",t.getDayunFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function fn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getLiuNianFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function mn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getLiuYueFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function Cn(u,c){if(1&u&&(n.j41(0,"div",115)(1,"span",116),n.EFF(2),n.k0s(),n.j41(3,"span",117),n.EFF(4),n.k0s(),n.DNE(5,pn,2,2,"span",118)(6,_n,2,2,"span",118)(7,fn,2,2,"span",109)(8,mn,2,2,"span",109),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(2).$implicit,e=n.XpG();n.R7$(),n.AVh("highlight-star",e.shouldHighlightStar(i))("sihua-hover-lu","\u5316\u7984"===e.getHoverSiHuaType(i))("sihua-hover-quan","\u5316\u6743"===e.getHoverSiHuaType(i))("sihua-hover-ke","\u5316\u79d1"===e.getHoverSiHuaType(i))("sihua-hover-ji","\u5316\u5fcc"===e.getHoverSiHuaType(i))("sihua-click-lu","\u5316\u7984"===e.getTransientClickSiHuaType(i))("sihua-click-quan","\u5316\u6743"===e.getTransientClickSiHuaType(i))("sihua-click-ke","\u5316\u79d1"===e.getTransientClickSiHuaType(i))("sihua-click-ji","\u5316\u5fcc"===e.getTransientClickSiHuaType(i))("sihua-star-lu","\u5316\u7984"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u7984")||e.isDayunSiHuaType(i,"\u5316\u7984"))("sihua-star-quan","\u5316\u6743"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u6743")||e.isDayunSiHuaType(i,"\u5316\u6743"))("sihua-star-ke","\u5316\u79d1"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u79d1")||e.isDayunSiHuaType(i,"\u5316\u79d1"))("sihua-star-ji","\u5316\u5fcc"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u5fcc")||e.isDayunSiHuaType(i,"\u5316\u5fcc"))("sihua-year-lu",e.isYearSiHuaType(i,"\u5316\u7984"))("sihua-year-quan",e.isYearSiHuaType(i,"\u5316\u6743"))("sihua-year-ke",e.isYearSiHuaType(i,"\u5316\u79d1"))("sihua-year-ji",e.isYearSiHuaType(i,"\u5316\u5fcc"))("sihua-dayun-lu",e.isDayunSiHuaType(i,"\u5316\u7984"))("sihua-dayun-quan",e.isDayunSiHuaType(i,"\u5316\u6743"))("sihua-dayun-ke",e.isDayunSiHuaType(i,"\u5316\u79d1"))("sihua-dayun-ji",e.isDayunSiHuaType(i,"\u5316\u5fcc")),n.R7$(),n.JRh(i),n.R7$(2),n.JRh(e.getStarBrightness(t.name,i)),n.R7$(),n.Y8G("ngIf",e.getYearFeiHuaLabelForStar(i)),n.R7$(),n.Y8G("ngIf",e.getDayunFeiHuaLabelForStar(i)),n.R7$(),n.Y8G("ngForOf",e.getLiuNianFeiHuaLabelsForStar(i)),n.R7$(),n.Y8G("ngForOf",e.getLiuYueFeiHuaLabelsForStar(i))}}function Mn(u,c){if(1&u&&(n.j41(0,"div",119),n.DNE(1,Cn,9,48,"div",114),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.getZaXingTag(i.name))}}function yn(u,c){1&u&&(n.j41(0,"span",120),n.EFF(1,"\u8eab\u5bab"),n.k0s())}function Gn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.ngIf,t=n.XpG(4);n.Y8G("ngClass",t.getYearFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function xn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.ngIf,t=n.XpG(4);n.Y8G("ngClass",t.getDayunFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function Fn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getLiuNianFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function bn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getLiuYueFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function Sn(u,c){if(1&u&&(n.j41(0,"div",115)(1,"span",116),n.EFF(2),n.k0s(),n.j41(3,"span",117),n.EFF(4),n.k0s(),n.DNE(5,Gn,2,2,"span",118)(6,xn,2,2,"span",118)(7,Fn,2,2,"span",109)(8,bn,2,2,"span",109),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(2).$implicit,e=n.XpG();n.R7$(),n.AVh("highlight-star",e.shouldHighlightStar(i))("sihua-hover-lu","\u5316\u7984"===e.getHoverSiHuaType(i))("sihua-hover-quan","\u5316\u6743"===e.getHoverSiHuaType(i))("sihua-hover-ke","\u5316\u79d1"===e.getHoverSiHuaType(i))("sihua-hover-ji","\u5316\u5fcc"===e.getHoverSiHuaType(i))("sihua-click-lu","\u5316\u7984"===e.getTransientClickSiHuaType(i))("sihua-click-quan","\u5316\u6743"===e.getTransientClickSiHuaType(i))("sihua-click-ke","\u5316\u79d1"===e.getTransientClickSiHuaType(i))("sihua-click-ji","\u5316\u5fcc"===e.getTransientClickSiHuaType(i))("sihua-star-lu","\u5316\u7984"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u7984")||e.isDayunSiHuaType(i,"\u5316\u7984"))("sihua-star-quan","\u5316\u6743"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u6743")||e.isDayunSiHuaType(i,"\u5316\u6743"))("sihua-star-ke","\u5316\u79d1"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u79d1")||e.isDayunSiHuaType(i,"\u5316\u79d1"))("sihua-star-ji","\u5316\u5fcc"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u5fcc")||e.isDayunSiHuaType(i,"\u5316\u5fcc"))("sihua-year-lu",e.isYearSiHuaType(i,"\u5316\u7984"))("sihua-year-quan",e.isYearSiHuaType(i,"\u5316\u6743"))("sihua-year-ke",e.isYearSiHuaType(i,"\u5316\u79d1"))("sihua-year-ji",e.isYearSiHuaType(i,"\u5316\u5fcc"))("sihua-dayun-lu",e.isDayunSiHuaType(i,"\u5316\u7984"))("sihua-dayun-quan",e.isDayunSiHuaType(i,"\u5316\u6743"))("sihua-dayun-ke",e.isDayunSiHuaType(i,"\u5316\u79d1"))("sihua-dayun-ji",e.isDayunSiHuaType(i,"\u5316\u5fcc")),n.R7$(),n.JRh(i),n.R7$(2),n.JRh(e.getStarBrightness(t.name,i)),n.R7$(),n.Y8G("ngIf",e.getYearFeiHuaLabelForStar(i)),n.R7$(),n.Y8G("ngIf",e.getDayunFeiHuaLabelForStar(i)),n.R7$(),n.Y8G("ngForOf",e.getLiuNianFeiHuaLabelsForStar(i)),n.R7$(),n.Y8G("ngForOf",e.getLiuYueFeiHuaLabelsForStar(i))}}function Pn(u,c){if(1&u&&(n.j41(0,"div",121),n.DNE(1,Sn,9,48,"div",114),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.getZhuXingByGong(i.name))}}function An(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.ngIf,t=n.XpG(4);n.Y8G("ngClass",t.getYearFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function Nn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.ngIf,t=n.XpG(4);n.Y8G("ngClass",t.getDayunFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function Tn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getLiuNianFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function Hn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(4);n.Y8G("ngClass",t.getLiuYueFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function On(u,c){if(1&u&&(n.j41(0,"div",115)(1,"span",116),n.EFF(2),n.k0s(),n.j41(3,"span",117),n.EFF(4),n.k0s(),n.DNE(5,An,2,2,"span",118)(6,Nn,2,2,"span",118)(7,Tn,2,2,"span",109)(8,Hn,2,2,"span",109),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(2).$implicit,e=n.XpG();n.R7$(),n.AVh("highlight-star",e.shouldHighlightStar(i))("sihua-hover-lu","\u5316\u7984"===e.getHoverSiHuaType(i))("sihua-hover-quan","\u5316\u6743"===e.getHoverSiHuaType(i))("sihua-hover-ke","\u5316\u79d1"===e.getHoverSiHuaType(i))("sihua-hover-ji","\u5316\u5fcc"===e.getHoverSiHuaType(i))("sihua-click-lu","\u5316\u7984"===e.getTransientClickSiHuaType(i))("sihua-click-quan","\u5316\u6743"===e.getTransientClickSiHuaType(i))("sihua-click-ke","\u5316\u79d1"===e.getTransientClickSiHuaType(i))("sihua-click-ji","\u5316\u5fcc"===e.getTransientClickSiHuaType(i))("sihua-star-lu","\u5316\u7984"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u7984")||e.isDayunSiHuaType(i,"\u5316\u7984"))("sihua-star-quan","\u5316\u6743"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u6743")||e.isDayunSiHuaType(i,"\u5316\u6743"))("sihua-star-ke","\u5316\u79d1"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u79d1")||e.isDayunSiHuaType(i,"\u5316\u79d1"))("sihua-star-ji","\u5316\u5fcc"===e.getTransientSiHuaType(i)||e.isYearSiHuaType(i,"\u5316\u5fcc")||e.isDayunSiHuaType(i,"\u5316\u5fcc"))("sihua-year-lu",e.isYearSiHuaType(i,"\u5316\u7984"))("sihua-year-quan",e.isYearSiHuaType(i,"\u5316\u6743"))("sihua-year-ke",e.isYearSiHuaType(i,"\u5316\u79d1"))("sihua-year-ji",e.isYearSiHuaType(i,"\u5316\u5fcc"))("sihua-dayun-lu",e.isDayunSiHuaType(i,"\u5316\u7984"))("sihua-dayun-quan",e.isDayunSiHuaType(i,"\u5316\u6743"))("sihua-dayun-ke",e.isDayunSiHuaType(i,"\u5316\u79d1"))("sihua-dayun-ji",e.isDayunSiHuaType(i,"\u5316\u5fcc")),n.R7$(),n.JRh(i),n.R7$(2),n.JRh(e.getStarBrightness(t.name,i)),n.R7$(),n.Y8G("ngIf",e.getYearFeiHuaLabelForStar(i)),n.R7$(),n.Y8G("ngIf",e.getDayunFeiHuaLabelForStar(i)),n.R7$(),n.Y8G("ngForOf",e.getLiuNianFeiHuaLabelsForStar(i)),n.R7$(),n.Y8G("ngForOf",e.getLiuYueFeiHuaLabelsForStar(i))}}function Dn(u,c){if(1&u&&(n.j41(0,"div",122),n.DNE(1,On,9,48,"div",114),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.getJiXingTag(i.name))}}function Ln(u,c){if(1&u&&(n.j41(0,"div",123),n.EFF(1),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.SpI(" ",t.getGongYearRange(i.name)," \u5e74 ")}}function Yn(u,c){if(1&u&&(n.j41(0,"div",124),n.EFF(1),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.SpI(" ",t.DYNAMIC_GONG_MAP[i.name].dayunRange||t.DYNAMIC_GONG_MAP[i.name].dayun," ")}}function In(u,c){1&u&&(n.j41(0,"span",128),n.EFF(1,"\u5927\u8fd0"),n.k0s())}function vn(u,c){if(1&u){const i=n.RV6();n.j41(0,"span",129),n.bIt("click",function(e){n.eBV(i);const a=n.XpG(2).$implicit,s=n.XpG();return n.Njj(s.onCenterLiuNianTagClick(a.name,e))}),n.EFF(1),n.k0s()}if(2&u){const i=n.XpG(2).$implicit,t=n.XpG();n.BMQ("aria-pressed",t.transientSiHuaSourceGong===i.name),n.R7$(),n.E5c(" ",t.currentLiuNianYear," ",t.currentLiuNianGan,"",t.selectedLiuNianZhi," ")}}function wn(u,c){if(1&u&&(n.j41(0,"div",125),n.DNE(1,In,2,0,"span",126)(2,vn,2,4,"span",127),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.Y8G("ngIf",i.name===t.activeDayunGong),n.R7$(),n.Y8G("ngIf",i.name===t.activeLiuNianGong)}}function En(u,c){if(1&u){const i=n.RV6();n.j41(0,"div",130),n.bIt("click",function(e){n.eBV(i);const a=n.XpG().$implicit,s=n.XpG();return n.Njj(s.onCenterLiuYueTagClick(a.name,e))}),n.EFF(1),n.k0s()}if(2&u){const i=c.ngIf,t=n.XpG().$implicit,e=n.XpG();n.BMQ("aria-pressed",e.transientSiHuaMonthSourceGong===t.name),n.R7$(),n.SpI(" ",i," ")}}function kn(u,c){if(1&u&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(3);n.HbH(i),n.R7$(),n.JRh(t.formatFeiHuaLabel(i))}}function Zn(u,c){if(1&u&&(n.j41(0,"div",131),n.DNE(1,kn,2,3,"span",132),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.getFeiHuaTag(i.name))}}function Rn(u,c){1&u&&(n.j41(0,"div",138),n.EFF(1,"\u81ea\u5316\u7984"),n.k0s())}function jn(u,c){1&u&&(n.j41(0,"div",139),n.EFF(1,"\u81ea\u5316\u6743"),n.k0s())}function $n(u,c){1&u&&(n.j41(0,"div",140),n.EFF(1,"\u81ea\u5316\u79d1"),n.k0s())}function zn(u,c){1&u&&(n.j41(0,"div",141),n.EFF(1,"\u81ea\u5316\u5fcc"),n.k0s())}function Bn(u,c){if(1&u&&(n.j41(0,"div",133),n.DNE(1,Rn,2,0,"div",134)(2,jn,2,0,"div",135)(3,$n,2,0,"div",136)(4,zn,2,0,"div",137),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.Y8G("ngIf",t.isZiHua(i.name,"\u5316\u7984")),n.R7$(),n.Y8G("ngIf",t.isZiHua(i.name,"\u5316\u6743")),n.R7$(),n.Y8G("ngIf",t.isZiHua(i.name,"\u5316\u79d1")),n.R7$(),n.Y8G("ngIf",t.isZiHua(i.name,"\u5316\u5fcc"))}}function Xn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(3);n.Y8G("ngClass",t.getLiuNianFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function Un(u,c){if(1&u&&(n.j41(0,"div",142),n.DNE(1,Xn,2,2,"span",109),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.getTransientFeiHuaLabels(i.name))}}function Jn(u,c){if(1&u&&(n.j41(0,"span",110),n.EFF(1),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(3);n.Y8G("ngClass",t.getLiuYueFeiHuaClass(i)),n.R7$(),n.JRh(i)}}function Qn(u,c){if(1&u&&(n.j41(0,"div",143),n.DNE(1,Jn,2,2,"span",109),n.k0s()),2&u){const i=n.XpG().$implicit,t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.getTransientFeiHuaMonthLabels(i.name))}}function qn(u,c){if(1&u){const i=n.RV6();n.j41(0,"div",144),n.bIt("click",function(e){n.eBV(i);const a=n.XpG().$implicit,s=n.XpG();return n.Njj(s.onGongGanZhiGenerateSiHua(a.name,e))})("mouseenter",function(){n.eBV(i);const e=n.XpG().$implicit,a=n.XpG();return n.Njj(a.onGongGanZhiMouseEnter(e.name))})("mouseleave",function(){n.eBV(i);const e=n.XpG().$implicit,a=n.XpG();return n.Njj(a.onGongGanZhiMouseLeave(e.name))}),n.EFF(1),n.k0s()}if(2&u){const i=n.XpG().$implicit,t=n.XpG();n.AVh("active",t.isGongGanZhiActive(i.name)),n.BMQ("aria-pressed",t.transientSiHuaSourceGong===i.name),n.R7$(),n.SpI(" ",t.DYNAMIC_GONG_MAP[i.name].dayunGanZhi," ")}}function Kn(u,c){1&u&&(n.j41(0,"span",148),n.EFF(1,"\u262f"),n.k0s())}function Wn(u,c){if(1&u){const i=n.RV6();n.qex(0),n.j41(1,"div",145),n.bIt("click",function(e){n.eBV(i);const a=n.XpG().$implicit,s=n.XpG();return n.Njj(s.onDayunLabelClick(a.name,e))}),n.j41(2,"span",146),n.EFF(3),n.k0s(),n.DNE(4,Kn,2,0,"span",147),n.k0s(),n.bVm()}if(2&u){const i=c.ngIf,t=n.XpG().$implicit,e=n.XpG();n.R7$(),n.AVh("active","dayun"===e.activeLabelType&&e.activeDayunGong===t.name)("group-active","dayun"===e.activeLabelType),n.R7$(2),n.JRh(e.formatDayunLabel(i)),n.R7$(),n.Y8G("ngIf",e.isTaijiDayunLabel(i))}}function Vn(u,c){1&u&&(n.j41(0,"span",156),n.EFF(1,"\u262f"),n.k0s())}function ni(u,c){if(1&u){const i=n.RV6();n.j41(0,"div",153),n.bIt("click",function(e){n.eBV(i);const a=n.XpG(2).$implicit,s=n.XpG();return n.Njj(s.onMonthLabelClick(a.name,e))}),n.j41(1,"span",154),n.EFF(2),n.k0s(),n.DNE(3,Vn,2,0,"span",155),n.k0s()}if(2&u){const i=c.ngIf,t=n.XpG(2).$implicit,e=n.XpG();n.AVh("active","liuyue"===e.activeLabelType&&e.activeLiuYueGong===t.name)("group-active","liuyue"===e.activeLabelType),n.R7$(2),n.JRh(e.formatDayunLabel(i)),n.R7$(),n.Y8G("ngIf",e.isTaijiDayunLabel(i))}}function ii(u,c){1&u&&(n.j41(0,"span",157),n.EFF(1,"\u262f"),n.k0s())}function ti(u,c){if(1&u){const i=n.RV6();n.qex(0),n.DNE(1,ni,4,6,"div",149),n.j41(2,"div",150),n.bIt("click",function(e){n.eBV(i);const a=n.XpG().$implicit,s=n.XpG();return n.Njj(s.onFlowLabelClick(a.name,e))}),n.j41(3,"span",151),n.EFF(4),n.k0s(),n.DNE(5,ii,2,0,"span",152),n.k0s(),n.bVm()}if(2&u){const i=c.ngIf,t=n.XpG().$implicit,e=n.XpG();n.R7$(),n.Y8G("ngIf",e.yieldMonthLabel(t.name)),n.R7$(),n.AVh("active","liunian"===e.activeLabelType&&e.activeLiuNianGong===t.name)("group-active","liunian"===e.activeLabelType),n.R7$(2),n.JRh(e.formatDayunLabel(i)),n.R7$(),n.Y8G("ngIf",e.isTaijiDayunLabel(i))}}function ei(u,c){if(1&u){const i=n.RV6();n.j41(0,"div",83),n.bIt("click",function(){const e=n.eBV(i).$implicit,a=n.XpG();return n.Njj(a.clickGong(e.name))}),n.DNE(1,un,4,3,"div",84),n.j41(2,"div",85),n.EFF(3),n.k0s(),n.j41(4,"div",86),n.DNE(5,dn,2,1,"div",87)(6,Mn,2,1,"div",88),n.k0s(),n.j41(7,"div",89),n.EFF(8),n.DNE(9,yn,2,0,"span",90),n.k0s(),n.j41(10,"div",91),n.DNE(11,Pn,2,1,"div",92)(12,Dn,2,1,"div",93),n.k0s(),n.DNE(13,Ln,2,1,"div",94)(14,Yn,2,1,"div",95)(15,wn,3,2,"div",96)(16,En,2,2,"div",97)(17,Zn,2,1,"div",98)(18,Bn,5,4,"div",99)(19,Un,2,1,"div",100)(20,Qn,2,1,"div",101)(21,qn,2,4,"div",102)(22,Wn,5,6,"ng-container",103)(23,ti,6,7,"ng-container",103),n.k0s()}if(2&u){const i=c.$implicit,t=n.XpG();n.xc7("grid-row",i.gridRow)("grid-column",i.gridCol),n.AVh("highlight",t.isHighlight(i.name))("shenGong",t.DYNAMIC_GONG_MAP[i.name].isShenGong),n.Y8G("ngClass",t.getHighlightColorClass(i.name)),n.R7$(),n.Y8G("ngIf",(null==t.DYNAMIC_GONG_MAP[i.name].liuYueFeiHuaTags?null:t.DYNAMIC_GONG_MAP[i.name].liuYueFeiHuaTags.length)||(null==t.DYNAMIC_GONG_MAP[i.name].liuNianFeiHuaTags?null:t.DYNAMIC_GONG_MAP[i.name].liuNianFeiHuaTags.length)||(null==t.DYNAMIC_GONG_MAP[i.name].yearFeiHuaTags?null:t.DYNAMIC_GONG_MAP[i.name].yearFeiHuaTags.length)),n.R7$(2),n.JRh(t.DYNAMIC_GONG_MAP[i.name].fangwei),n.R7$(2),n.Y8G("ngIf",t.getShaXingTag(i.name).length),n.R7$(),n.Y8G("ngIf",t.getZaXingTag(i.name).length),n.R7$(2),n.SpI("",i.name," "),n.R7$(),n.Y8G("ngIf",t.DYNAMIC_GONG_MAP[i.name].isShenGong),n.R7$(2),n.Y8G("ngIf",t.getZhuXingByGong(i.name).length),n.R7$(),n.Y8G("ngIf",t.getJiXingTag(i.name).length),n.R7$(),n.Y8G("ngIf",t.getGongYearRange(i.name)),n.R7$(),n.Y8G("ngIf",t.DYNAMIC_GONG_MAP[i.name].dayunRange||t.DYNAMIC_GONG_MAP[i.name].dayun),n.R7$(),n.Y8G("ngIf",i.name===t.activeDayunGong||i.name===t.activeLiuNianGong),n.R7$(),n.Y8G("ngIf",i.name===t.activeLiuYueGong&&t.getActiveLiuYueLabel()),n.R7$(),n.Y8G("ngIf",t.getFeiHuaTag(i.name).length>0),n.R7$(),n.Y8G("ngIf",t.showZiHua&&(t.isZiHua(i.name,"\u5316\u7984")||t.isZiHua(i.name,"\u5316\u6743")||t.isZiHua(i.name,"\u5316\u79d1")||t.isZiHua(i.name,"\u5316\u5fcc"))),n.R7$(),n.Y8G("ngIf",t.getTransientFeiHuaLabels(i.name).length&&!t.hasTransientLiuNianLabelsForGong(i.name)),n.R7$(),n.Y8G("ngIf",t.getTransientFeiHuaMonthLabels(i.name).length&&!t.hasTransientLiuYueLabelsForGong(i.name)),n.R7$(),n.Y8G("ngIf",t.DYNAMIC_GONG_MAP[i.name].dayunGanZhi),n.R7$(),n.Y8G("ngIf",t.yieldDayunLabel(i.name,!1)),n.R7$(),n.Y8G("ngIf",t.yieldDayunLabel(i.name,!0))}}function ai(u,c){1&u&&(n.j41(0,"span",120),n.EFF(1,"\u2605\u8eab\u5bab\u2605"),n.k0s())}function si(u,c){if(1&u&&(n.j41(0,"p"),n.EFF(1),n.j41(2,"span",110),n.EFF(3),n.k0s(),n.EFF(4),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(2);n.R7$(),n.E5c(" ",((null==t.DYNAMIC_GONG_MAP[t.selectedGong]?null:t.DYNAMIC_GONG_MAP[t.selectedGong].gan)||"")+i,"\uff1a",t.currentFeiHua[i]," \u2192 \u98de\u81f3\u3010",t.currentFeiHuaTarget[i],"\u3011 "),n.R7$(),n.Y8G("ngClass",n.s1E(6,E,"\u751f"===t.getShengKeRel(t.selectedGong,t.currentFeiHuaTarget[i]).rel,"\u514b"===t.getShengKeRel(t.selectedGong,t.currentFeiHuaTarget[i]).rel,"\u88ab\u751f"===t.getShengKeRel(t.selectedGong,t.currentFeiHuaTarget[i]).rel,"\u88ab\u514b"===t.getShengKeRel(t.selectedGong,t.currentFeiHuaTarget[i]).rel,"\u6bd4\u548c"===t.getShengKeRel(t.selectedGong,t.currentFeiHuaTarget[i]).rel)),n.R7$(),n.SpI(" ",t.getShengKeRel(t.selectedGong,t.currentFeiHuaTarget[i]).rel," "),n.R7$(),n.SpI(" (",t.getShengKeRel(t.selectedGong,t.currentFeiHuaTarget[i]).desc,") ")}}function oi(u,c){if(1&u&&(n.j41(0,"p"),n.EFF(1),n.j41(2,"span",161),n.EFF(3),n.k0s(),n.EFF(4),n.k0s()),2&u){const i=c.$implicit,t=n.XpG(2);n.R7$(),n.E5c(" ",(t.currentLiuNianGan||"")+i,"\uff1a",t.currentLiuNianFeiHua[i]," \u2192 \u98de\u81f3\u3010",t.currentLiuNianFeiHuaTarget[i],"\u3011 "),n.R7$(2),n.JRh(t.getShengKeRel(t.selectedGong,t.currentLiuNianFeiHuaTarget[i]).rel),n.R7$(),n.SpI(" (",t.getShengKeRel(t.selectedGong,t.currentLiuNianFeiHuaTarget[i]).desc,") ")}}function ui(u,c){if(1&u&&(n.j41(0,"div",158)(1,"h4"),n.EFF(2),n.DNE(3,ai,2,0,"span",90),n.k0s(),n.j41(4,"div",159)(5,"p"),n.EFF(6),n.k0s(),n.j41(7,"p"),n.EFF(8),n.k0s(),n.j41(9,"p"),n.EFF(10),n.k0s(),n.j41(11,"p"),n.EFF(12),n.k0s(),n.j41(13,"p"),n.EFF(14),n.k0s(),n.j41(15,"p"),n.EFF(16),n.k0s()(),n.j41(17,"div",160)(18,"h5"),n.EFF(19,"\u{1f525} \u5bab\u5e72\u98de\u56db\u5316 (\u540e\u5929\u80fd\u91cf) \u2192 \u751f\u514b\u89e3\u8bfb"),n.k0s(),n.DNE(20,si,5,12,"p",29),n.j41(21,"h5"),n.EFF(22),n.k0s(),n.DNE(23,oi,5,5,"p",29),n.k0s()()),2&u){const i=n.XpG();n.R7$(2),n.SjE("\u5f53\u524d\u7acb\u6781\uff1a",i.selectedGong," \u3010",i.DYNAMIC_GONG_MAP[i.selectedGong].gan,"\u5e72 | ",i.DYNAMIC_GONG_MAP[i.selectedGong].zhi,"\u652f | ",i.DYNAMIC_GONG_MAP[i.selectedGong].wuxing,"\u4e94\u884c | ",i.DYNAMIC_GONG_MAP[i.selectedGong].fangwei,"\u3011 "),n.R7$(),n.Y8G("ngIf",i.DYNAMIC_GONG_MAP[i.selectedGong].isShenGong),n.R7$(3),n.SpI("\u2705 \u4e09\u5408\u5bab\uff1a",i.SAN_HE_MAP[i.selectedGong].sanFang.join(" \u3001 "),""),n.R7$(2),n.SpI("\u2705 \u5bf9 \u5bab\uff1a",i.SAN_HE_MAP[i.selectedGong].duiGong,""),n.R7$(2),n.SpI("\u2705 \u4e09\u65b9\u56db\u6b63\uff1a",i.SAN_HE_MAP[i.selectedGong].siZheng.join(" \u3001 "),""),n.R7$(2),n.SpI("\u2705 \u672c\u547d\u4e3b\u661f\uff1a",i.getZhuXingByGong(i.selectedGong).join("\u3001")||"\u65e0",""),n.R7$(2),n.SpI("\u2705 \u5409\u661f\uff1a",i.getJiXingTag(i.selectedGong).join("\u3001")||"\u65e0",""),n.R7$(2),n.SpI("\u2705 \u715e\u661f\uff1a",i.getShaXingTag(i.selectedGong).join("\u3001")||"\u65e0",""),n.R7$(4),n.Y8G("ngForOf",n.lJ4(15,D)),n.R7$(2),n.SpI("\u{1f319} \u6d41\u5e74",i.currentLiuNianGan,"\u5e72\u98de\u56db\u5316 \u2192 \u751f\u514b\u89e3\u8bfb"),n.R7$(),n.Y8G("ngForOf",n.lJ4(16,D))}}let ri=(()=>{class u{constructor(){this.GRID_CELL=25,this.GRID_GAP=0,this.GRID_SIZE=100,this.PATH_CURVE_RATIO=.3,this.tianGanList=["\u7532","\u4e59","\u4e19","\u4e01","\u620a","\u5df1","\u5e9a","\u8f9b","\u58ec","\u7678"],this.diZhiList=["\u5b50","\u4e11","\u5bc5","\u536f","\u8fb0","\u5df3","\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5"],this.LIU_NIAN_ZHI=["\u5b50","\u4e11","\u5bc5","\u536f","\u8fb0","\u5df3","\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5"],this.WuXingMap={\u7532:"\u6728",\u4e59:"\u6728",\u4e19:"\u706b",\u4e01:"\u706b",\u620a:"\u571f",\u5df1:"\u571f",\u5e9a:"\u91d1",\u8f9b:"\u91d1",\u58ec:"\u6c34",\u7678:"\u6c34",\u5b50:"\u6c34",\u4e11:"\u571f",\u5bc5:"\u6728",\u536f:"\u6728",\u8fb0:"\u571f",\u5df3:"\u706b",\u5348:"\u706b",\u672a:"\u571f",\u7533:"\u91d1",\u9149:"\u91d1",\u620c:"\u571f",\u4ea5:"\u6c34"},this.ZhiHeWuXing={\u5bc5:"\u706b",\u5348:"\u706b",\u620c:"\u706b",\u7533:"\u6c34",\u5b50:"\u6c34",\u8fb0:"\u6c34",\u5df3:"\u91d1",\u9149:"\u91d1",\u4e11:"\u91d1",\u4ea5:"\u6728",\u536f:"\u6728",\u672a:"\u6728"},this.ShiZhuMap={\u5b50:"23-01",\u4e11:"01-03",\u5bc5:"03-05",\u536f:"05-07",\u8fb0:"07-09",\u5df3:"09-11",\u5348:"11-13",\u672a:"13-15",\u7533:"15-17",\u9149:"17-19",\u620c:"19-21",\u4ea5:"21-23"},this.ZiWeiAnXing={\u5bc5:["\u7d2b\u5fae","\u4e03\u6740"],\u536f:["\u5929\u673a"],\u8fb0:["\u592a\u9633"],\u5df3:["\u6b66\u66f2"],\u5348:["\u5929\u540c"],\u672a:["\u5ec9\u8d1e"],\u7533:["\u5929\u5e9c"],\u9149:["\u592a\u9634"],\u620c:["\u8d2a\u72fc"],\u4ea5:["\u5de8\u95e8"],\u5b50:["\u5929\u76f8"],\u4e11:["\u5929\u6881"]},this.SHI_OPTIONS=[{value:"\u5b50",label:"\u5b50\u65f6 (23:00-01:00)"},{value:"\u4e11",label:"\u4e11\u65f6 (01:00-03:00)"},{value:"\u5bc5",label:"\u5bc5\u65f6 (03:00-05:00)"},{value:"\u536f",label:"\u536f\u65f6 (05:00-07:00)"},{value:"\u8fb0",label:"\u8fb0\u65f6 (07:00-09:00)"},{value:"\u5df3",label:"\u5df3\u65f6 (09:00-11:00)"},{value:"\u5348",label:"\u5348\u65f6 (11:00-13:00)"},{value:"\u672a",label:"\u672a\u65f6 (13:00-15:00)"},{value:"\u7533",label:"\u7533\u65f6 (15:00-17:00)"},{value:"\u9149",label:"\u9149\u65f6 (17:00-19:00)"},{value:"\u620c",label:"\u620c\u65f6 (19:00-21:00)"},{value:"\u4ea5",label:"\u4ea5\u65f6 (21:00-23:00)"}],this.WU_XING_ShengKe={\u6728:{\u751f:"\u706b",\u514b:"\u571f",\u88ab\u751f:"\u6c34",\u88ab\u514b:"\u91d1"},\u706b:{\u751f:"\u571f",\u514b:"\u91d1",\u88ab\u751f:"\u6728",\u88ab\u514b:"\u6c34"},\u571f:{\u751f:"\u91d1",\u514b:"\u6c34",\u88ab\u751f:"\u706b",\u88ab\u514b:"\u6728"},\u91d1:{\u751f:"\u6c34",\u514b:"\u6728",\u88ab\u751f:"\u571f",\u88ab\u514b:"\u706b"},\u6c34:{\u751f:"\u6728",\u514b:"\u706b",\u88ab\u751f:"\u91d1",\u88ab\u514b:"\u571f"}},this.ShengKe_DESC={\u751f:"\u6211\u751f\u5f7c\uff0c\u4e3b\u4ed8\u51fa\u52a9\u529b",\u514b:"\u6211\u514b\u5f7c\uff0c\u4e3b\u638c\u63a7\u5229\u76ca",\u88ab\u751f:"\u5f7c\u751f\u6211\uff0c\u4e3b\u8d35\u4eba\u6276\u6301",\u88ab\u514b:"\u5f7c\u514b\u6211\uff0c\u4e3b\u538b\u529b\u963b\u788d",\u6bd4\u548c:"\u4e94\u884c\u76f8\u540c\uff0c\u4e3b\u540c\u5fc3\u534f\u529b"},this.SI_HUA_MAP={\u7532:{\u5316\u7984:"\u5ec9\u8d1e",\u5316\u6743:"\u7834\u519b",\u5316\u79d1:"\u6b66\u66f2",\u5316\u5fcc:"\u592a\u9633"},\u4e59:{\u5316\u7984:"\u5929\u673a",\u5316\u6743:"\u5929\u6881",\u5316\u79d1:"\u7d2b\u5fae",\u5316\u5fcc:"\u592a\u9634"},\u4e19:{\u5316\u7984:"\u5929\u540c",\u5316\u6743:"\u5929\u673a",\u5316\u79d1:"\u6587\u660c",\u5316\u5fcc:"\u5ec9\u8d1e"},\u4e01:{\u5316\u7984:"\u592a\u9634",\u5316\u6743:"\u5929\u540c",\u5316\u79d1:"\u5929\u673a",\u5316\u5fcc:"\u5de8\u95e8"},\u620a:{\u5316\u7984:"\u8d2a\u72fc",\u5316\u6743:"\u592a\u9634",\u5316\u79d1:"\u53f3\u5f3c",\u5316\u5fcc:"\u5929\u673a"},\u5df1:{\u5316\u7984:"\u6b66\u66f2",\u5316\u6743:"\u8d2a\u72fc",\u5316\u79d1:"\u5929\u6881",\u5316\u5fcc:"\u6587\u66f2"},\u5e9a:{\u5316\u7984:"\u592a\u9633",\u5316\u6743:"\u6b66\u66f2",\u5316\u79d1:"\u592a\u9634",\u5316\u5fcc:"\u5929\u540c"},\u8f9b:{\u5316\u7984:"\u5de8\u95e8",\u5316\u6743:"\u592a\u9633",\u5316\u79d1:"\u6587\u66f2",\u5316\u5fcc:"\u6587\u660c"},\u58ec:{\u5316\u7984:"\u5929\u6881",\u5316\u6743:"\u7d2b\u5fae",\u5316\u79d1:"\u5de6\u8f85",\u5316\u5fcc:"\u6b66\u66f2"},\u7678:{\u5316\u7984:"\u7834\u519b",\u5316\u6743:"\u5de8\u95e8",\u5316\u79d1:"\u592a\u9634",\u5316\u5fcc:"\u8d2a\u72fc"}},this.SAN_HE_MAP={\u547d\u5bab:{sanFang:["\u8d22\u5e1b\u5bab","\u5b98\u7984\u5bab"],duiGong:"\u8fc1\u79fb\u5bab",siZheng:["\u547d\u5bab","\u8d22\u5e1b\u5bab","\u5b98\u7984\u5bab","\u8fc1\u79fb\u5bab"]},\u8d22\u5e1b\u5bab:{sanFang:["\u547d\u5bab","\u5b98\u7984\u5bab"],duiGong:"\u798f\u5fb7\u5bab",siZheng:["\u8d22\u5e1b\u5bab","\u547d\u5bab","\u5b98\u7984\u5bab","\u798f\u5fb7\u5bab"]},\u5b98\u7984\u5bab:{sanFang:["\u547d\u5bab","\u8d22\u5e1b\u5bab"],duiGong:"\u592b\u59bb\u5bab",siZheng:["\u5b98\u7984\u5bab","\u547d\u5bab","\u592b\u59bb\u5bab","\u8d22\u5e1b\u5bab"]},\u8fc1\u79fb\u5bab:{sanFang:["\u592b\u59bb\u5bab","\u798f\u5fb7\u5bab"],duiGong:"\u547d\u5bab",siZheng:["\u8fc1\u79fb\u5bab","\u592b\u59bb\u5bab","\u798f\u5fb7\u5bab","\u547d\u5bab"]},\u592b\u59bb\u5bab:{sanFang:["\u8fc1\u79fb\u5bab","\u798f\u5fb7\u5bab"],duiGong:"\u5b98\u7984\u5bab",siZheng:["\u592b\u59bb\u5bab","\u8fc1\u79fb\u5bab","\u798f\u5fb7\u5bab","\u5b98\u7984\u5bab"]},\u798f\u5fb7\u5bab:{sanFang:["\u592b\u59bb\u5bab","\u8fc1\u79fb\u5bab"],duiGong:"\u8d22\u5e1b\u5bab",siZheng:["\u798f\u5fb7\u5bab","\u592b\u59bb\u5bab","\u8d22\u5e1b\u5bab","\u8fc1\u79fb\u5bab"]},\u7530\u5b85\u5bab:{sanFang:["\u5144\u5f1f\u5bab","\u75be\u5384\u5bab"],duiGong:"\u5b50\u5973\u5bab",siZheng:["\u7530\u5b85\u5bab","\u5144\u5f1f\u5bab","\u5b50\u5973\u5bab","\u75be\u5384\u5bab"]},\u5144\u5f1f\u5bab:{sanFang:["\u7530\u5b85\u5bab","\u75be\u5384\u5bab"],duiGong:"\u4ea4\u53cb\u5bab",siZheng:["\u5144\u5f1f\u5bab","\u7530\u5b85\u5bab","\u75be\u5384\u5bab","\u4ea4\u53cb\u5bab"]},\u75be\u5384\u5bab:{sanFang:["\u7530\u5b85\u5bab","\u5144\u5f1f\u5bab"],duiGong:"\u7236\u6bcd\u5bab",siZheng:["\u75be\u5384\u5bab","\u7530\u5b85\u5bab","\u5144\u5f1f\u5bab","\u7236\u6bcd\u5bab"]},\u4ea4\u53cb\u5bab:{sanFang:["\u7236\u6bcd\u5bab","\u5b50\u5973\u5bab"],duiGong:"\u5144\u5f1f\u5bab",siZheng:["\u4ea4\u53cb\u5bab","\u7236\u6bcd\u5bab","\u5144\u5f1f\u5bab","\u5b50\u5973\u5bab"]},\u7236\u6bcd\u5bab:{sanFang:["\u4ea4\u53cb\u5bab","\u5b50\u5973\u5bab"],duiGong:"\u75be\u5384\u5bab",siZheng:["\u7236\u6bcd\u5bab","\u4ea4\u53cb\u5bab","\u5b50\u5973\u5bab","\u75be\u5384\u5bab"]},\u5b50\u5973\u5bab:{sanFang:["\u7236\u6bcd\u5bab","\u4ea4\u53cb\u5bab"],duiGong:"\u7530\u5b85\u5bab",siZheng:["\u5b50\u5973\u5bab","\u7236\u6bcd\u5bab","\u4ea4\u53cb\u5bab","\u7530\u5b85\u5bab"]}},this.ZHU_XING=["\u7d2b\u5fae","\u5929\u5e9c","\u6b66\u66f2","\u5929\u76f8","\u4e03\u6740","\u7834\u519b","\u5ec9\u8d1e","\u8d2a\u72fc","\u592a\u9633","\u592a\u9634","\u5929\u673a","\u5de8\u95e8","\u5929\u540c","\u5929\u6881"],this.JI_XING=["\u6587\u660c","\u6587\u66f2","\u5de6\u8f85","\u53f3\u5f3c","\u5929\u9b41","\u5929\u94ba","\u7984\u5b58","\u5929\u9a6c"],this.SHA_XING=["\u64ce\u7f8a","\u9640\u7f57","\u706b\u661f","\u94c3\u661f","\u5730\u7a7a","\u5730\u52ab"],this.ZA_XING=["\u5929\u5211","\u5929\u59da","\u7ea2\u9e3e","\u5929\u559c"],this.highlightStarSet=new Set(["\u7984\u5b58","\u5929\u5e9c","\u592a\u9634","\u6b66\u66f2"]),this.GONG_NAME_LIST=["\u547d\u5bab","\u7236\u6bcd\u5bab","\u798f\u5fb7\u5bab","\u7530\u5b85\u5bab","\u5b98\u7984\u5bab","\u4ea4\u53cb\u5bab","\u8fc1\u79fb\u5bab","\u75be\u5384\u5bab","\u8d22\u5e1b\u5bab","\u5b50\u5973\u5bab","\u592b\u59bb\u5bab","\u5144\u5f1f\u5bab"],this.ZHI_GRID_LAYOUT={\u5bc5:{gridRow:4,gridCol:1},\u536f:{gridRow:3,gridCol:1},\u8fb0:{gridRow:2,gridCol:1},\u5df3:{gridRow:1,gridCol:1},\u5348:{gridRow:1,gridCol:2},\u672a:{gridRow:1,gridCol:3},\u7533:{gridRow:1,gridCol:4},\u9149:{gridRow:2,gridCol:4},\u620c:{gridRow:3,gridCol:4},\u4ea5:{gridRow:4,gridCol:4},\u5b50:{gridRow:4,gridCol:3},\u4e11:{gridRow:4,gridCol:2}},this.BASE_GONG_LAYOUT=[{name:"\u547d\u5bab",gridRow:1,gridCol:1},{name:"\u5144\u5f1f\u5bab",gridRow:1,gridCol:2},{name:"\u592b\u59bb\u5bab",gridRow:1,gridCol:3},{name:"\u5b50\u5973\u5bab",gridRow:1,gridCol:4},{name:"\u8d22\u5e1b\u5bab",gridRow:2,gridCol:4},{name:"\u75be\u5384\u5bab",gridRow:3,gridCol:4},{name:"\u8fc1\u79fb\u5bab",gridRow:4,gridCol:4},{name:"\u4ea4\u53cb\u5bab",gridRow:4,gridCol:3},{name:"\u5b98\u7984\u5bab",gridRow:4,gridCol:2},{name:"\u7530\u5b85\u5bab",gridRow:4,gridCol:1},{name:"\u798f\u5fb7\u5bab",gridRow:3,gridCol:1},{name:"\u7236\u6bcd\u5bab",gridRow:2,gridCol:1}],this.DAYUN_GONG_SEQUENCE=["\u547d\u5bab","\u5144\u5f1f\u5bab","\u592b\u59bb\u5bab","\u5b50\u5973\u5bab","\u8d22\u5e1b\u5bab","\u75be\u5384\u5bab","\u8fc1\u79fb\u5bab","\u4ea4\u53cb\u5bab","\u5b98\u7984\u5bab","\u7530\u5b85\u5bab","\u798f\u5fb7\u5bab","\u7236\u6bcd\u5bab"],this.BRIGHTNESS_INDEX_MAP={\u5bc5:0,\u536f:1,\u8fb0:2,\u5df3:3,\u5348:4,\u672a:5,\u7533:6,\u9149:7,\u620c:8,\u4ea5:9,\u5b50:10,\u4e11:11},this.DAYUN_LABEL_SEQUENCE=["\u5927\u8fd0\u547d","\u5927\u5144\u5f1f","\u5927\u592b\u59bb","\u5927\u5b50\u5973","\u5927\u8d22\u5e1b","\u5927\u75be\u5384","\u5927\u8fc1\u79fb","\u5927\u4ea4\u53cb","\u5927\u5b98\u7984","\u5927\u7530\u5b85","\u5927\u798f\u5fb7","\u5927\u7236\u6bcd"],this.WU_HU_DUN="\u7532\u5df1\u4e4b\u5e74\u4e19\u4f5c\u9996\uff0c\u4e59\u5e9a\u4e4b\u5c81\u620a\u4e3a\u5934\uff0c\u4e19\u8f9b\u5c81\u9996\u5bfb\u5e9a\u8d77\uff0c\u4e01\u58ec\u58ec\u4f4d\u987a\u884c\u6d41\uff0c\u82e5\u8a00\u620a\u7678\u4f55\u65b9\u53d1\uff0c\u7532\u5bc5\u4e4b\u4e0a\u597d\u8ffd\u6c42",this.WU_HU_DUN_MAP={\u7532:"\u4e19",\u4e59:"\u620a",\u4e19:"\u5e9a",\u4e01:"\u58ec",\u620a:"\u7532",\u5df1:"\u4e19",\u5e9a:"\u620a",\u8f9b:"\u5e9a",\u58ec:"\u58ec",\u7678:"\u7532"},this.ZHI_FANGWEI_MAP={\u5b50:"\u6b63\u5317",\u4e11:"\u4e1c\u5317\u504f\u5317",\u5bc5:"\u4e1c\u5317\u504f\u4e1c",\u536f:"\u6b63\u4e1c",\u8fb0:"\u4e1c\u5357\u504f\u4e1c",\u5df3:"\u4e1c\u5357\u504f\u5357",\u5348:"\u6b63\u5357",\u672a:"\u897f\u5357\u504f\u5357",\u7533:"\u897f\u5357\u504f\u897f",\u9149:"\u6b63\u897f",\u620c:"\u897f\u5317\u504f\u897f",\u4ea5:"\u897f\u5317\u504f\u5317"},this.ZIWEI_POSITION_TABLE={2:["\u5bc5","\u536f","\u8fb0","\u5df3","\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5","\u5b50","\u4e11"],3:["\u536f","\u8fb0","\u5df3","\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5","\u5b50","\u4e11","\u5bc5"],4:["\u8fb0","\u5df3","\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5","\u5b50","\u4e11","\u5bc5","\u536f"],5:["\u5df3","\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5","\u5b50","\u4e11","\u5bc5","\u536f","\u8fb0"],6:["\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5","\u5b50","\u4e11","\u5bc5","\u536f","\u8fb0","\u5df3"]},this.TIANFU_POSITION_MAP={\u5bc5:"\u8fb0",\u536f:"\u5df3",\u8fb0:"\u5348",\u5df3:"\u672a",\u5348:"\u7533",\u672a:"\u9149",\u7533:"\u620c",\u9149:"\u4ea5",\u620c:"\u5b50",\u4ea5:"\u4e11",\u5b50:"\u5bc5",\u4e11:"\u536f"},this.NIAN_GAN_XING_MAP={\u7532:{\u7984\u5b58:"\u5bc5",\u64ce\u7f8a:"\u536f",\u9640\u7f57:"\u4e11",\u5929\u9b41:"\u4e11",\u5929\u94ba:"\u672a"},\u4e59:{\u7984\u5b58:"\u536f",\u64ce\u7f8a:"\u8fb0",\u9640\u7f57:"\u5bc5",\u5929\u9b41:"\u5b50",\u5929\u94ba:"\u7533"},\u4e19:{\u7984\u5b58:"\u5df3",\u64ce\u7f8a:"\u5348",\u9640\u7f57:"\u8fb0",\u5929\u9b41:"\u4ea5",\u5929\u94ba:"\u9149"},\u4e01:{\u7984\u5b58:"\u5348",\u64ce\u7f8a:"\u672a",\u9640\u7f57:"\u5df3",\u5929\u9b41:"\u4ea5",\u5929\u94ba:"\u9149"},\u620a:{\u7984\u5b58:"\u5df3",\u64ce\u7f8a:"\u5348",\u9640\u7f57:"\u8fb0",\u5929\u9b41:"\u4e11",\u5929\u94ba:"\u672a"},\u5df1:{\u7984\u5b58:"\u5348",\u64ce\u7f8a:"\u672a",\u9640\u7f57:"\u5df3",\u5929\u9b41:"\u5b50",\u5929\u94ba:"\u7533"},\u5e9a:{\u7984\u5b58:"\u7533",\u64ce\u7f8a:"\u9149",\u9640\u7f57:"\u672a",\u5929\u9b41:"\u4e11",\u5929\u94ba:"\u672a"},\u8f9b:{\u7984\u5b58:"\u9149",\u64ce\u7f8a:"\u620c",\u9640\u7f57:"\u7533",\u5929\u9b41:"\u5348",\u5929\u94ba:"\u5bc5"},\u58ec:{\u7984\u5b58:"\u4ea5",\u64ce\u7f8a:"\u5b50",\u9640\u7f57:"\u620c",\u5929\u9b41:"\u536f",\u5929\u94ba:"\u5df3"},\u7678:{\u7984\u5b58:"\u5b50",\u64ce\u7f8a:"\u4e11",\u9640\u7f57:"\u4ea5",\u5929\u9b41:"\u536f",\u5929\u94ba:"\u5df3"}},this.YUE_ZHI_XING_MAP={\u5bc5:{\u5de6\u8f85:"\u8fb0",\u53f3\u5f3c:"\u620c",\u5929\u5211:"\u9149"},\u536f:{\u5de6\u8f85:"\u5df3",\u53f3\u5f3c:"\u9149",\u5929\u5211:"\u5348"},\u8fb0:{\u5de6\u8f85:"\u5348",\u53f3\u5f3c:"\u7533",\u5929\u5211:"\u536f"},\u5df3:{\u5de6\u8f85:"\u672a",\u53f3\u5f3c:"\u672a",\u5929\u5211:"\u5b50"},\u5348:{\u5de6\u8f85:"\u7533",\u53f3\u5f3c:"\u5348",\u5929\u5211:"\u9149"},\u672a:{\u5de6\u8f85:"\u9149",\u53f3\u5f3c:"\u5df3",\u5929\u5211:"\u5348"},\u7533:{\u5de6\u8f85:"\u620c",\u53f3\u5f3c:"\u8fb0",\u5929\u5211:"\u536f"},\u9149:{\u5de6\u8f85:"\u4ea5",\u53f3\u5f3c:"\u536f",\u5929\u5211:"\u5b50"},\u620c:{\u5de6\u8f85:"\u5b50",\u53f3\u5f3c:"\u5bc5",\u5929\u5211:"\u9149"},\u4ea5:{\u5de6\u8f85:"\u4e11",\u53f3\u5f3c:"\u4e11",\u5929\u5211:"\u5348"},\u5b50:{\u5de6\u8f85:"\u5bc5",\u53f3\u5f3c:"\u5b50",\u5929\u5211:"\u536f"},\u4e11:{\u5de6\u8f85:"\u536f",\u53f3\u5f3c:"\u4ea5",\u5929\u5211:"\u5b50"}},this.ZHI_TO_LUNAR_MONTH={\u5bc5:"\u6b63\u6708",\u536f:"\u4e8c\u6708",\u8fb0:"\u4e09\u6708",\u5df3:"\u56db\u6708",\u5348:"\u4e94\u6708",\u672a:"\u516d\u6708",\u7533:"\u4e03\u6708",\u9149:"\u516b\u6708",\u620c:"\u4e5d\u6708",\u4ea5:"\u5341\u6708",\u5b50:"\u51ac\u6708",\u4e11:"\u814a\u6708"},this.WU_XING_JU_MAP={\u6c34:{ju:"\u6c34\u4e8c\u5c40",qiYunSui:2},\u6728:{ju:"\u6728\u4e09\u5c40",qiYunSui:3},\u91d1:{ju:"\u91d1\u56db\u5c40",qiYunSui:4},\u571f:{ju:"\u571f\u4e94\u5c40",qiYunSui:5},\u706b:{ju:"\u706b\u516d\u5c40",qiYunSui:6}},this.NA_YIN_WU_XING={\u7532\u5b50:"\u91d1",\u4e59\u4e11:"\u91d1",\u4e19\u5bc5:"\u706b",\u4e01\u536f:"\u706b",\u620a\u8fb0:"\u6728",\u5df1\u5df3:"\u6728",\u5e9a\u5348:"\u571f",\u8f9b\u672a:"\u571f",\u58ec\u7533:"\u91d1",\u7678\u9149:"\u91d1",\u7532\u620c:"\u706b",\u4e59\u4ea5:"\u706b",\u4e19\u5b50:"\u6c34",\u4e01\u4e11:"\u6c34",\u620a\u5bc5:"\u571f",\u5df1\u536f:"\u571f",\u5e9a\u8fb0:"\u91d1",\u8f9b\u5df3:"\u91d1",\u58ec\u5348:"\u6728",\u7678\u672a:"\u6728",\u7532\u7533:"\u6c34",\u4e59\u9149:"\u6c34",\u4e19\u620c:"\u571f",\u4e01\u4ea5:"\u571f",\u620a\u5b50:"\u706b",\u5df1\u4e11:"\u706b",\u5e9a\u5bc5:"\u6728",\u8f9b\u536f:"\u6728",\u58ec\u8fb0:"\u6c34",\u7678\u5df3:"\u6c34",\u7532\u5348:"\u91d1",\u4e59\u672a:"\u91d1",\u4e19\u7533:"\u706b",\u4e01\u9149:"\u706b",\u620a\u620c:"\u6728",\u5df1\u4ea5:"\u6728",\u5e9a\u5b50:"\u571f",\u8f9b\u4e11:"\u571f",\u58ec\u5bc5:"\u91d1",\u7678\u536f:"\u91d1",\u7532\u8fb0:"\u706b",\u4e59\u5df3:"\u706b",\u4e19\u5348:"\u6c34",\u4e01\u672a:"\u6c34",\u620a\u7533:"\u571f",\u5df1\u9149:"\u571f",\u5e9a\u620c:"\u91d1",\u8f9b\u4ea5:"\u91d1",\u58ec\u5b50:"\u6728",\u7678\u4e11:"\u6728",\u7532\u5bc5:"\u6c34",\u4e59\u536f:"\u6c34",\u4e19\u8fb0:"\u706b",\u4e01\u5df3:"\u706b",\u620a\u5348:"\u706b",\u5df1\u672a:"\u706b",\u5e9a\u7533:"\u91d1",\u8f9b\u9149:"\u91d1",\u58ec\u620c:"\u6c34",\u7678\u4ea5:"\u6c34"},this.YANG_NIAN_GAN=["\u7532","\u4e19","\u620a","\u5e9a","\u58ec"],this.personName="",this.personGender="\u7537",this.solarDate="2000-06-06",this.solarShi="\u5348",this.solarYearNum=0,this.lunarYear="",this.lunarMonth="",this.lunarDay="",this.lunarShi="",this.lunarDayNum=1,this.lunarDayChinese="",this.lunarDayZhi="",this.baZiYear="",this.baZiMonth="",this.baZiDay="",this.baZiShi="",this.currentAge=0,this.currentXuSui=0,this.yinYangNanNv="",this.mingGongZhi="\u5bc5",this.shenGongZhi="\u4e11",this.shenGongName="\u798f\u5fb7\u5bab",this.isShowPersonInfo=!1,this.selectedGan="\u7532",this.selectedGong="\u547d\u5bab",this.showFeiHuaLines=!1,this.selectedLiuNianZhi="\u5bc5",this.currentLiuNianGan="",this.currentLiuNianYear=(new Date).getFullYear(),this.currentSiHua=this.SI_HUA_MAP.\u7532,this.currentFeiHua={},this.currentFeiHuaTarget={},this.currentDayunFeiHua=null,this.currentLiuNianFeiHua=this.SI_HUA_MAP.\u7532,this.currentLiuNianFeiHuaTarget={},this.currentLiuYueFeiHua={},this.currentLiuYueFeiHuaTarget={},this.transientSiHuaSourceGong=null,this.transientSiHuaStarMap={},this.transientSiHuaTargetMap={},this.transientLiuNianStarLabelMap={},this.transientLiuYueStarLabelMap={},this.transientSiHuaTargetMapMonth={},this.transientSiHuaMonthSourceGong=null,this.hoverSiHuaStarMap={},this.hoveringGanZhiGong=null,this.highlightSiZhengGong=this.SAN_HE_MAP.\u547d\u5bab.siZheng,this.showZiHua=!0,this.showLargeFont=!1,this.sanFangLines=[],this.highlightColorMap={},this.feiHuaMarkers={\u5316\u7984:"url(#arrow-\u5316\u7984)",\u5316\u6743:"url(#arrow-\u5316\u6743)",\u5316\u79d1:"url(#arrow-\u5316\u79d1)",\u5316\u5fcc:"url(#arrow-\u5316\u5fcc)"},this.FEI_HUA_TYPES=["\u5316\u7984","\u5316\u6743","\u5316\u79d1","\u5316\u5fcc"],this.DAYUN_FEIHUA_LABEL_MAP={\u5316\u7984:"\u7984",\u5316\u6743:"\u6743",\u5316\u79d1:"\u79d1",\u5316\u5fcc:"\u5fcc"},this.DAYUN_FEIHUA_ORDER=["\u7984","\u6743","\u79d1","\u5fcc"],this.DAYUN_FEIHUA_CLASS_MAP={\u7984:"dayun-feihua-badge dayun-feihua-lu",\u6743:"dayun-feihua-badge dayun-feihua-quan",\u79d1:"dayun-feihua-badge dayun-feihua-ke",\u5fcc:"dayun-feihua-badge dayun-feihua-ji"},this.YEAR_FEIHUA_CLASS_MAP={\u7984:"year-feihua-badge year-feihua-lu",\u6743:"year-feihua-badge year-feihua-quan",\u79d1:"year-feihua-badge year-feihua-ke",\u5fcc:"year-feihua-badge year-feihua-ji"},this.LIU_NIAN_FEIHUA_CLASS_MAP={\u7984:"liunian-feihua-badge liunian-feihua-lu",\u6743:"liunian-feihua-badge liunian-feihua-quan",\u79d1:"liunian-feihua-badge liunian-feihua-ke",\u5fcc:"liunian-feihua-badge liunian-feihua-ji"},this.LIU_YUE_FEIHUA_CLASS_MAP={\u7984:"liuyue-feihua-badge liuyue-feihua-lu",\u6743:"liuyue-feihua-badge liuyue-feihua-quan",\u79d1:"liuyue-feihua-badge liuyue-feihua-ke",\u5fcc:"liuyue-feihua-badge liuyue-feihua-ji"},this.astrolabe=null,this.astrolabeMergeNotes=[],this.activeDayunGong="",this.activeLiuNianGong="",this.activeLabelType="",this.dayunTimeline=[],this.dayunLiuNianMap={},this.selectedDayunForTimeline="",this.displayedLiuNianList=[],this.displayedLiuYueList=[],this.activeDayunIndex=-1,this.selectedLiuNianYear=null,this.selectedLiuYueKey="",this.activeLiuYueGong="",this.lunarMonthFull="",this.wuXingJu="",this.qiYunXuSui=2,this.qiYunZhouSui=1,this.isShunXing=!0,this.yunDataMap={},this.DYNAMIC_GONG_MAP={},this.DYNAMIC_GONG_LIST=[],this.DYNAMIC_XING_MAP={},this.DYNAMIC_STAR_BRIGHTNESS_MAP={},this.currentLiuNianGan=this.tianGanList[0],this.resetDynamicState(),this.currentLiuNianGan=this.tianGanList[this.getSafeIndex(((new Date).getFullYear()-4)%10,10)],this.activeDayunGong="",this.activeLiuNianGong=""}calculateCurrentAge(){const[i,t,e]=(this.solarDate||"").split("-"),a=Number(i),s=Number(t),o=Number(e),r=new Date,g=r.getFullYear(),l=r.getMonth()+1,h=r.getDate();let d=g-a;(l<s||l===s&&h<o)&&d--,this.currentAge=d,this.currentXuSui=g-a+1}resetDynamicState(){this.DYNAMIC_GONG_MAP=this.GONG_NAME_LIST.reduce((s,o)=>(s[o]={gan:"",zhi:"",wuxing:"",isShenGong:!1,fangwei:"",dayun:"",dayunGanZhi:"",dayunRange:"",dayunFeiHuaTags:[],yearFeiHuaTags:[],liuYueFeiHuaTags:[],liuNianFeiHuaTags:[]},s),{}),this.DYNAMIC_GONG_LIST=this.BASE_GONG_LAYOUT.map(s=>({...s})),this.DYNAMIC_XING_MAP=this.GONG_NAME_LIST.reduce((s,o)=>(s[o]=[],s),{}),this.DYNAMIC_STAR_BRIGHTNESS_MAP=this.GONG_NAME_LIST.reduce((s,o)=>(s[o]={},s),{});const i=this.selectedGong&&this.SAN_HE_MAP[this.selectedGong]?this.selectedGong:"\u547d\u5bab";this.highlightSiZhengGong=this.SAN_HE_MAP[i]?.siZheng??this.SAN_HE_MAP.\u547d\u5bab.siZheng,this.updateHighlightColors(i),this.updateSanFangLines(i),this.selectedGan||(this.selectedGan="\u7532");const t=(new Date).getFullYear();this.currentLiuNianYear=t;const{gan:e,zhi:a}=this.getGanZhiByYear(t);this.selectedLiuNianZhi=a,this.currentLiuNianGan=e,this.currentSiHua=this.SI_HUA_MAP[this.selectedGan]??this.SI_HUA_MAP.\u7532,this.currentFeiHua={},this.currentFeiHuaTarget={},this.currentLiuNianFeiHua=this.SI_HUA_MAP[this.currentLiuNianGan]??this.SI_HUA_MAP.\u7532,this.currentLiuNianFeiHuaTarget={},this.currentLiuYueFeiHua={},this.currentLiuYueFeiHuaTarget={},this.displayedLiuYueList=this.buildLiuYueList(t),this.selectedLiuYueKey="",this.activeLiuYueGong="",this.updateLiuYueSelection(),this.wuXingJu="",this.qiYunXuSui=2,this.isShunXing=!0,this.yunDataMap={},this.activeDayunGong="",this.activeLiuNianGong="",this.activeLabelType="",this.transientLiuNianStarLabelMap={},this.transientLiuYueStarLabelMap={},this.transientSiHuaTargetMap={},this.transientSiHuaTargetMapMonth={},this.transientSiHuaSourceGong=null,this.transientSiHuaMonthSourceGong=null,this.transientSiHuaStarMap={},this.hoverSiHuaStarMap={},this.hoveringGanZhiGong=null}getMingGongZhi(i,t){const e=this.diZhiList.findIndex(g=>g===i),a=this.diZhiList.findIndex(g=>g===t);if(-1===e||-1===a)return"\u5bc5";const s=e,o=this.getSafeIndex(s-a,12),r=this.diZhiList[o];return console.log("========== \u547d\u5bab\u8ba1\u7b97\u8be6\u60c5 =========="),console.log("\u6708\u652f:",i,"(\u7d22\u5f15",e,")"),console.log("\u65f6\u652f:",t,"(\u7d22\u5f15",a,")"),console.log("\u751f\u6708\u5bab:",this.diZhiList[s]),console.log("\u8ba1\u7b97\u516c\u5f0f: mingGongIdx = (",s,"-",a,") % 12 =",o),console.log("\u547d\u5bab\u5730\u652f:",r),console.log("==================================="),r}getShenGongZhi(i,t){const e=this.diZhiList.findIndex(r=>r===i),a=this.diZhiList.findIndex(r=>r===t),o=this.getSafeIndex(e+a,12);return this.diZhiList[o]}getGongGanByWuHuDun(i,t){const e=this.WU_HU_DUN_MAP[i]||"\u7532",a=this.diZhiList.findIndex(h=>"\u5bc5"===h),s=this.diZhiList.findIndex(h=>h===t),o=this.tianGanList.findIndex(h=>h===e),r=this.getSafeIndex(s-a,12),g=this.getSafeIndex(o+r,10),l=this.tianGanList[g];return t===this.mingGongZhi&&console.log(`\u3010\u547d\u5bab\u5929\u5e72\u3011\u5e74\u5e72:${i} \u2192 \u5bc5\u5e72:${e} \u2192 ${t}\u5bab(\u8ddd\u5bc5${r}\u6b65) \u2192 \u5929\u5e72:${l}`),l}getGongNameByZhi(i){const t=Object.entries(this.DYNAMIC_GONG_MAP).find(([,e])=>e.zhi===i);return t?t[0]:""}getLunarMonthFullText(i,t,e=!1){return`${e?"\u95f0":""}${this.ZHI_TO_LUNAR_MONTH[i]||i}(${t})`}getShiChenIndex(i){const t=this.diZhiList.findIndex(e=>e===i);return t>=0?t:0}normalizePalaceName(i){if("string"!=typeof i)return"";const t=i.trim();return t?"\u4ec6\u5f79"===t?"\u4ea4\u53cb\u5bab":t.endsWith("\u5bab")?t:`${t}\u5bab`:""}buildAstrolabeState(){this.resetDynamicState(),this.astrolabeMergeNotes=[];const i=this.astrolabe?.palaces;if(!Array.isArray(i)||0===i.length)return void console.warn("astro.bySolar \u672a\u63d0\u4f9b\u5bab\u4f4d\u6570\u636e");const t=["majorStars","minorStars","adjectiveStars","softStars","toughStars","helperStars","flowerStars","otherStars"],e=o=>{if(!o)return{name:"",brightness:""};let r="";"string"==typeof o?r=o:"string"==typeof o.name?r=o.name:"string"==typeof o.star&&(r=o.star);const g=this.normalizeStarName(r);if(!g)return{name:"",brightness:""};let l="";if("object"==typeof o&&null!==o){const h=o.brightness;"string"==typeof h?l=h.trim():"number"==typeof h&&(l=String(h))}return{name:g,brightness:l}};i.forEach(o=>{const r=this.normalizePalaceName(o?.name);if(!r)return void this.astrolabeMergeNotes.push(`\u672a\u8bc6\u522b\u7684\u5bab\u4f4d\u540d\u79f0\uff1a${o?.name??"\u672a\u77e5"}`);this.DYNAMIC_GONG_MAP[r]||(this.DYNAMIC_GONG_MAP[r]={gan:"",zhi:"",wuxing:"",isShenGong:!1,fangwei:"",dayun:"",dayunGanZhi:"",dayunRange:"",dayunFeiHuaTags:[],yearFeiHuaTags:[],liuYueFeiHuaTags:[],liuNianFeiHuaTags:[]});const g=o?.heavenlyStem??o?.stem??o?.gan??"",l=o?.earthlyBranch??o?.branch??o?.zhi??"",h=l&&(this.WuXingMap[l]||this.ZhiHeWuXing[l])||"",d=l?this.ZHI_FANGWEI_MAP[l]??"":"",p=!!(o?.isBodyPalace??o?.isBody??o?.shen??o?.isShen??o?.body);this.DYNAMIC_GONG_MAP[r]={gan:g,zhi:l,wuxing:h,isShenGong:p,fangwei:d,dayun:"",dayunGanZhi:"",dayunRange:"",dayunFeiHuaTags:[],yearFeiHuaTags:[],liuYueFeiHuaTags:[],liuNianFeiHuaTags:[]},p&&(this.shenGongName=r,l&&(this.shenGongZhi=l));const m=Array.isArray(o?.decadal?.range)?o.decadal.range:[],[G,C]=m,_=o?.decadal?.stemBranch??(g&&l?`${g}${l}`:""),x=void 0!==G&&void 0!==C?`${G}-${C}`:"",f=x?`${x}\u865a\u5c81`:"";(_||f)&&(this.DYNAMIC_GONG_MAP[r].dayunGanZhi=_,this.DYNAMIC_GONG_MAP[r].dayunRange=f,this.DYNAMIC_GONG_MAP[r].dayun=f||_,this.yunDataMap[r]={ganZhi:_,suiShu:x}),this.DYNAMIC_STAR_BRIGHTNESS_MAP[r]||(this.DYNAMIC_STAR_BRIGHTNESS_MAP[r]={});const M=new Set,y={};t.forEach(S=>{const N=o?.[S];Array.isArray(N)&&N.forEach(Y=>{const{name:T,brightness:I}=e(Y);!T||this.diZhiList.includes(T)||(M.add(T),I&&(y[T]=I))})});const P=Array.from(M);this.DYNAMIC_XING_MAP[r]=P;const b={};P.forEach(S=>{const N=this.getBrightnessLabel(S,r,y[S]);N&&(b[S]=N)}),this.DYNAMIC_STAR_BRIGHTNESS_MAP[r]=b}),this.GONG_NAME_LIST.forEach(o=>{this.DYNAMIC_GONG_MAP[o]||(this.DYNAMIC_GONG_MAP[o]={gan:"",zhi:"",wuxing:"",isShenGong:!1,fangwei:"",dayun:"",dayunGanZhi:"",dayunRange:"",dayunFeiHuaTags:[],yearFeiHuaTags:[],liuYueFeiHuaTags:[],liuNianFeiHuaTags:[]}),Array.isArray(this.DYNAMIC_XING_MAP[o])||(this.DYNAMIC_XING_MAP[o]=[]),this.DYNAMIC_STAR_BRIGHTNESS_MAP[o]||(this.DYNAMIC_STAR_BRIGHTNESS_MAP[o]={})});const a=i.find(o=>"\u547d\u5bab"===this.normalizePalaceName(o?.name));if(a){const o=a?.heavenlyStem??a?.stem??a?.gan??"",r=a?.earthlyBranch??a?.branch??a?.zhi??"";o&&(this.selectedGan=o),r&&(this.mingGongZhi=r)}if(!this.shenGongName){const o=i.find(r=>"\u8eab\u5bab"===this.normalizePalaceName(r?.name));if(o){this.shenGongName="\u8eab\u5bab";const r=o?.earthlyBranch??o?.branch??o?.zhi??"";r&&(this.shenGongZhi=r)}}const s=new Set;this.DYNAMIC_GONG_LIST=this.GONG_NAME_LIST.map(o=>{const r=this.DYNAMIC_GONG_MAP[o]?.zhi,g=r?this.ZHI_GRID_LAYOUT[r]:void 0;if(g&&!s.has(`${g.gridRow}-${g.gridCol}`))return s.add(`${g.gridRow}-${g.gridCol}`),{name:o,gridRow:g.gridRow,gridCol:g.gridCol};const l=this.BASE_GONG_LAYOUT.find(h=>!s.has(`${h.gridRow}-${h.gridCol}`))??this.BASE_GONG_LAYOUT[0];return s.add(`${l.gridRow}-${l.gridCol}`),{name:o,gridRow:l.gridRow,gridCol:l.gridCol}}),this.DYNAMIC_GONG_MAP.\u547d\u5bab&&this.calcWuXingJuAndQiYun(),this.judgeShunNiXing(),this.calcAllGongDayun(),this.selectedGan||(this.selectedGan="\u7532"),this.selectedGong="\u547d\u5bab",this.changeTianGan(this.selectedGan),this.clickGong(this.selectedGong),this.changeLiuNianZhi(this.selectedLiuNianZhi),this.astrolabeMergeNotes.length>0&&console.warn("astro.bySolar \u89e3\u6790\u63d0\u793a\uff1a",this.astrolabeMergeNotes)}applyAstrolabeDates(){if(!this.astrolabe)return;const i=(this.astrolabe.chineseDate||"").trim(),t=i?i.split(/\s+/).filter(Boolean):[],e=o=>o?o.charAt(o.length-1):"";t.length>=4&&([this.baZiYear,this.baZiMonth,this.baZiDay,this.baZiShi]=t.slice(0,4),this.lunarYear=this.baZiYear,this.lunarMonth=e(this.baZiMonth),this.lunarDay=this.baZiDay,this.lunarDayZhi=e(this.baZiDay),this.lunarShi=e(this.baZiShi)||this.lunarShi);const a=this.astrolabe.rawDates?.lunarDate;if(a){this.solarYearNum=a.lunarYear,this.lunarDayNum=a.lunarDay,this.lunarDayChinese=this.getLunarDayChinese(a.lunarDay);const o=this.lunarMonth||e(this.baZiMonth);o&&(this.lunarMonthFull=this.getLunarMonthFullText(o,this.baZiMonth,a.isLeap))}!this.lunarMonthFull&&this.astrolabe.lunarDate&&(this.lunarMonthFull=this.astrolabe.lunarDate);const s=this.baZiYear?.charAt(0);s&&(this.selectedGan=s,this.changeTianGan(this.selectedGan))}getLunarDayChinese(i){const t=["","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"];return i<=0||i>30?"":10===i?"\u521d\u5341":20===i?"\u4e8c\u5341":30===i?"\u4e09\u5341":i<10?"\u521d"+t[i]:i<20?"\u5341"+t[i-10]:"\u5eff"+t[i-20]}getYearChinese(i){const t=["\u3007","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"];return i.toString().split("").map(e=>t[parseInt(e)]).join("")}solarToLunarAndBaZi(){const[i,t,e]=(this.solarDate||"").split("-"),a=new Date,s=Number(i)||a.getFullYear(),o=Number(t)||a.getMonth()+1,r=Number(e)||a.getDate(),g=this.solarShi||"\u5348";this.solarYearNum=s;const{hour:l,minute:h}=this.getShiStartTime(g),d=Date.UTC(s,o-1,r,l,h);this.lunarShi=g;const m="\u5b50"===g&&l>=0&&l<1&&12===o?s+1:s,C=d>=this.getJieQiDateTime(m,"\u7acb\u6625"),_=C?(m-4)%10:(m-1-4)%10,x=C?(m-4)%12:(m-1-4)%12,f=this.tianGanList[this.getSafeIndex(_,10)],M=this.diZhiList[this.getSafeIndex(x,12)];this.lunarYear=`${f}${M}`,this.baZiYear=this.lunarYear,this.selectedGan=f;const y=this.isLeapMonth(s,o),P=y?Number(o.toString().replace("\u95f0","")):o,b=this.getYueZhuByJieQi(m,P,r,l,h,_);this.lunarMonth=b.zhi,this.baZiMonth=b.fullGanZhi,console.log("========== \u6708\u67f1\u8ba1\u7b97\u8be6\u60c5 =========="),console.log("\u9633\u5386\u65e5\u671f:",s,"\u5e74",o,"\u6708",r,"\u65e5",l,":",h),console.log("\u6708\u67f1\u5730\u652f:",this.lunarMonth),console.log("\u6708\u67f1\u5e72\u652f:",this.baZiMonth),console.log("==================================="),this.lunarMonthFull=this.getLunarMonthFullText(this.lunarMonth,this.baZiMonth,y);const S=this.getRiZhuBySolar(s,o,r);this.lunarDay=S,this.baZiDay=S;const N=this.baZiDay.charAt(0);this.baZiShi=this.getShiZhuByRiGanAndShiZhi(N,this.lunarShi),this.mingGongZhi=this.getMingGongZhi(this.lunarMonth,this.lunarShi),this.shenGongZhi=this.getShenGongZhi(this.lunarMonth,this.lunarShi),this.lunarDayNum=this.getLunarDayNumFix(s,o,r),this.lunarDayZhi=this.getRiZhiByYueShangQuRi(this.lunarMonth,this.lunarDayNum),this.lunarDayChinese=this.getLunarDayChinese(this.lunarDayNum),this.calculateCurrentAge();const T=this.YANG_NIAN_GAN.includes(f)?"\u9633":"\u9634";this.yinYangNanNv=`${T}${this.personGender}`}isLeapMonth(i,t){return{1990:6,1993:3,1995:8,1998:5,2001:4,2004:2,2006:7,2009:5,2012:4,2014:9,2017:6,2020:4,2023:2,2025:6,2028:5,2031:3,2033:7,2036:6,2039:5,2042:2,2044:7,2047:5,2050:3,2052:8,2055:6,2058:4,2061:3,2063:7,2066:5,2069:4,2071:8,2074:6,2077:5,2080:3,2082:7,2085:5,2088:4,2090:8,2093:6,2096:4,2099:2}[i]===t}calcWuXingJuAndQiYun(){const i=this.DYNAMIC_GONG_MAP.\u547d\u5bab.gan,t=this.DYNAMIC_GONG_MAP.\u547d\u5bab.zhi,e=`${i}${t}`,a=this.NA_YIN_WU_XING[e]||"\u571f",s=this.WU_XING_JU_MAP[a];this.wuXingJu=s.ju,this.qiYunXuSui=s.qiYunSui,this.qiYunZhouSui=this.qiYunXuSui-1,console.log("========== \u4e94\u884c\u5c40\u8ba1\u7b97\u8be6\u60c5 =========="),console.log("\u547d\u5bab\u5929\u5e72:",i),console.log("\u547d\u5bab\u5730\u652f:",t),console.log("\u547d\u5bab\u5e72\u652f:",e),console.log("\u7eb3\u97f3\u4e94\u884c:",a),console.log("\u4e94\u884c\u5c40:",this.wuXingJu),console.log("\u8d77\u8fd0\u865a\u5c81:",this.qiYunXuSui,"\u5468\u5c81:",this.qiYunZhouSui),console.log("===================================")}judgeShunNiXing(){const i=this.baZiYear.charAt(0),t=this.YANG_NIAN_GAN.includes(i);this.isShunXing=t&&"\u7537"===this.personGender||!t&&"\u5973"===this.personGender}calcAllGongDayun(){this.calcWuXingJuAndQiYun(),this.judgeShunNiXing();const i=this.GONG_NAME_LIST,t=i.findIndex(r=>"\u547d\u5bab"===r)||0,e=[];if(Object.values(this.DYNAMIC_GONG_MAP).forEach(r=>{r&&(r.dayunFeiHuaTags=[])}),this.isShunXing)for(let r=0;r<12;r++){const g=this.getSafeIndex(t+r,12);e.push(i[g])}else for(let r=0;r<12;r++){const g=this.getSafeIndex(t-r,12);e.push(i[g])}const a=[];e.forEach((r,g)=>{const l=this.qiYunXuSui+10*g,h=l+9;this.yunDataMap||(this.yunDataMap={});const d=(this.yunDataMap[r]?.ganZhi||"").trim(),p=(this.yunDataMap[r]?.suiShu||"").trim(),C=`${this.DYNAMIC_GONG_MAP[r]?.gan||""}${this.DYNAMIC_GONG_MAP[r]?.zhi||""}`.trim(),f=d||C,M=p||`${l}-${h}`,y=this.DYNAMIC_GONG_MAP[r].dayunRange||`${M}\u865a\u5c81`||`${l}-${h}\u865a\u5c81`;this.yunDataMap[r]={ganZhi:f,suiShu:M},f&&(this.DYNAMIC_GONG_MAP[r].dayunGanZhi=f),y&&(this.DYNAMIC_GONG_MAP[r].dayunRange=y,this.DYNAMIC_GONG_MAP[r].dayun=y);const P=f?f.charAt(0):"",b=P?this.SI_HUA_MAP[P]:null,S=b?this.calcFeiHuaTarget(b):{};a.push({gongName:r,startSui:l,endSui:h,ganZhi:f,targetMap:S})});const s=this.resolveActiveDayunIndex(a);if(this.activeDayunIndex=s,-1!==s){const r=a[s]?.ganZhi||"",g=r?r.charAt(0):"";this.currentDayunFeiHua=g?this.SI_HUA_MAP[g]:null}else this.currentDayunFeiHua=null;this.applyDayunFeiHuaTagsFromTarget(-1!==s?a[s]?.targetMap??null:null),this.updateDayunTimeline(a,s),this.calcYearFeiHuaTags()}getDayunFeiHuaClass(i){return this.DAYUN_FEIHUA_CLASS_MAP[i]||"dayun-feihua-badge"}getYearFeiHuaClass(i){return this.YEAR_FEIHUA_CLASS_MAP[i]||"year-feihua-badge"}getLiuNianFeiHuaClass(i){return this.LIU_NIAN_FEIHUA_CLASS_MAP[i]||"liunian-feihua-badge"}getLiuYueFeiHuaClass(i){return this.LIU_YUE_FEIHUA_CLASS_MAP[i]||"liuyue-feihua-badge"}sortDayunFeiHuaTags(i){if(!Array.isArray(i)||0===i.length)return[];const t=this.DAYUN_FEIHUA_ORDER,e=a=>{const s=t.indexOf(a);return-1===s?Number.MAX_SAFE_INTEGER:s};return Array.from(new Set(i)).sort((a,s)=>e(a)-e(s)).filter(a=>t.includes(a))}applyDayunFeiHuaTagsFromTarget(i){Object.values(this.DYNAMIC_GONG_MAP).forEach(e=>{e&&(e.dayunFeiHuaTags=[])}),i&&Object.entries(i).forEach(([e,a])=>{if(!this.FEI_HUA_TYPES.includes(e))return;const o=this.DAYUN_FEIHUA_LABEL_MAP[e];if(!o||!a||"\u672a\u77e5\u5bab\u4f4d"===a)return;const r=this.DYNAMIC_GONG_MAP[a];if(!r||(Array.isArray(r.yearFeiHuaTags)?r.yearFeiHuaTags:[]).includes(o))return;const l=new Set(Array.isArray(r.dayunFeiHuaTags)?r.dayunFeiHuaTags:[]);l.add(o),r.dayunFeiHuaTags=this.sortDayunFeiHuaTags(Array.from(l))})}calcYearFeiHuaTags(){Object.values(this.DYNAMIC_GONG_MAP).forEach(a=>{a&&(a.yearFeiHuaTags=[])});const i=(this.baZiYear?.charAt(0)||this.selectedGan||"").trim();if(!i)return;const t=this.SI_HUA_MAP[i];if(!t)return;const e=this.calcFeiHuaTarget(t);this.FEI_HUA_TYPES.forEach(a=>{const s=e[a];if(!s||"\u672a\u77e5\u5bab\u4f4d"===s)return;const o=this.DYNAMIC_GONG_MAP[s];if(!o)return;const r=this.DAYUN_FEIHUA_LABEL_MAP[a];if(!o.yearFeiHuaTags.includes(r)){o.yearFeiHuaTags.push(r);const g=this.sortDayunFeiHuaTags(o.yearFeiHuaTags);o.yearFeiHuaTags=g}})}calcLiuNianFeiHuaTags(i){Object.values(this.DYNAMIC_GONG_MAP).forEach(e=>{e&&(e.liuNianFeiHuaTags=[])});const t=i??this.currentLiuNianFeiHuaTarget;t&&this.FEI_HUA_TYPES.forEach(e=>{const a=t[e];if(!a||"\u672a\u77e5\u5bab\u4f4d"===a)return;const s=this.DYNAMIC_GONG_MAP[a];if(!s)return;const o=this.DAYUN_FEIHUA_LABEL_MAP[e];if(!s.liuNianFeiHuaTags.includes(o)){s.liuNianFeiHuaTags.push(o);const r=this.sortDayunFeiHuaTags(s.liuNianFeiHuaTags);s.liuNianFeiHuaTags=r}})}calcLiuYueFeiHuaTags(i){Object.values(this.DYNAMIC_GONG_MAP).forEach(e=>{e&&(e.liuYueFeiHuaTags=[])});const t=i??this.currentLiuYueFeiHuaTarget;t&&this.FEI_HUA_TYPES.forEach(e=>{const a=t[e];if(!a||"\u672a\u77e5\u5bab\u4f4d"===a)return;const s=this.DYNAMIC_GONG_MAP[a];if(!s)return;const o=this.DAYUN_FEIHUA_LABEL_MAP[e];if(!s.liuYueFeiHuaTags.includes(o)){s.liuYueFeiHuaTags.push(o);const r=this.sortDayunFeiHuaTags(s.liuYueFeiHuaTags);s.liuYueFeiHuaTags=r}})}updateDayunTimeline(i,t){if(!Array.isArray(i)||0===i.length)return this.dayunTimeline=[],this.dayunLiuNianMap={},this.displayedLiuNianList=[],void(this.selectedDayunForTimeline="");const e=this.getBirthYearForTimeline(),a=i.map((r,g)=>{const l=Math.max(r.startSui,1),h=Math.max(r.endSui,l),d=e+l-1,p=e+h-1,m=this.DAYUN_LABEL_SEQUENCE[this.getSafeIndex(g,this.DAYUN_LABEL_SEQUENCE.length)];return{gongName:r.gongName,label:`${m}\uff08${r.gongName}\uff09`,rangeLabel:`${l}-${h} `,ganZhi:r.ganZhi||"\u5f85\u6392\u76d8",startSui:l,endSui:h,startYear:d,endYear:p}}),s={};a.forEach(r=>{const g=[];for(let l=0;l<10;l++){const h=r.startYear+l,d=r.startSui+l,{gan:p,zhi:m}=this.getGanZhiByYear(h);g.push({year:h,ganZhi:`${p}${m}`,xuSui:d,display:`${h}\u5e74 ${p}${m} (${d}\u865a\u5c81)`,gongName:r.gongName})}s[r.gongName]=g}),this.dayunTimeline=a,this.dayunLiuNianMap=s,this.syncDayunTimelineSelection(t>=0&&a[t]?a[t].gongName:void 0)}getBirthYearForTimeline(){const[i]=(this.solarDate||"").split("-"),t=Number(i);return Number.isFinite(t)&&t>0?Math.trunc(t):Number.isFinite(this.solarYearNum)&&this.solarYearNum>0?Math.trunc(this.solarYearNum):(new Date).getFullYear()}syncDayunTimelineSelection(i){let t=i||this.selectedDayunForTimeline;t&&!this.dayunLiuNianMap[t]&&(t=""),!t&&this.dayunTimeline.length&&(t=this.dayunTimeline[0].gongName),this.selectedDayunForTimeline=t,this.displayedLiuNianList=t?this.dayunLiuNianMap[t]??[]:[],null!==this.selectedLiuNianYear&&(this.displayedLiuNianList.some(a=>a.year===this.selectedLiuNianYear)||(this.selectedLiuNianYear=null))}onDayunClick(i){if(!i)return;const t=this.activeLiuNianGong,e=this.activeLiuYueGong;this.syncDayunTimelineSelection(i.gongName);const a=(i.ganZhi||"").charAt(0),s=a?this.SI_HUA_MAP[a]??null:null;this.currentDayunFeiHua=s;const o=s?this.calcFeiHuaTarget(s):{};this.activeDayunIndex=this.dayunTimeline.findIndex(d=>d.gongName===i.gongName),this.activeDayunGong=i.gongName,this.activeLabelType="dayun";const r=this.dayunLiuNianMap[i.gongName]??[],g=r.length?r[0]:null,h=(null!==this.selectedLiuNianYear?r.find(d=>d.year===this.selectedLiuNianYear):null)||g;if(h){this.setCurrentLiuNianYear(h.year),this.selectedLiuNianYear=h.year;const d=h.gongName||this.getGongNameByZhi(this.selectedLiuNianZhi)||"";this.activeLiuNianGong=d}else this.selectedLiuNianYear=null,this.selectedLiuNianZhi="",this.currentLiuNianGan="",this.currentLiuNianFeiHua=this.SI_HUA_MAP[this.selectedGan]??this.SI_HUA_MAP.\u7532,this.currentLiuNianFeiHuaTarget={},this.activeLiuNianGong="",this.calcLiuNianFeiHuaTags(),this.updateLiuYueSelection();this.clickGong(i.gongName),this.applyDayunFeiHuaTagsFromTarget(o),t&&(this.activeLiuNianGong=t),e&&(this.activeLiuYueGong=e)}onGongGanZhiGenerateSiHua(i,t){if(t&&t.stopPropagation(),!i)return;const e=this.buildGanZhiSiHuaStarMapForGong(i);if(!Object.keys(e).length)return void(this.transientSiHuaSourceGong===i&&Object.keys(this.transientSiHuaStarMap).length>0&&(this.transientSiHuaStarMap={},this.transientSiHuaSourceGong=null));const a=this.transientSiHuaSourceGong===i&&this.isSameTransientStarMap(e,this.transientSiHuaStarMap);this.transientSiHuaStarMap=a?{}:e,this.transientSiHuaSourceGong=a?null:i}onGongGanZhiMouseEnter(i){if(!i)return;const t=this.buildGanZhiSiHuaStarMapForGong(i);this.hoverSiHuaStarMap=t,this.hoveringGanZhiGong=Object.keys(t).length?i:null}onGongGanZhiMouseLeave(i){this.hoveringGanZhiGong===i&&(this.hoveringGanZhiGong=null,this.hoverSiHuaStarMap={})}buildGanZhiSiHuaStarMapForGong(i){if(!i)return{};const t=this.DYNAMIC_GONG_MAP[i]?.dayunGanZhi?.trim();if(!t)return{};const e=t.charAt(0);return this.buildSiHuaStarMapFromGan(e)}buildSiHuaStarMapFromGan(i){const t={};if(!i)return t;const e=this.SI_HUA_MAP[i];if(!e)return t;const a=this.buildXingToGongMap();return Object.keys(e).forEach(s=>{const r=this.normalizeStarName(String(e[s]));r&&a[r]&&(t[r]=s)}),t}buildXingToGongMap(){return Object.entries(this.DYNAMIC_XING_MAP).reduce((i,[t,e])=>(Array.isArray(e)&&e.forEach(a=>{const s=this.normalizeStarName(String(a));!s||s in i||(i[s]=t)}),i),{})}isGongGanZhiActive(i){return!!i&&(this.hoveringGanZhiGong===i&&Object.keys(this.hoverSiHuaStarMap).length>0||this.transientSiHuaSourceGong===i&&Object.keys(this.transientSiHuaStarMap).length>0)}onCenterLiuNianTagClick(i,t){if(t&&t.stopPropagation(),!i)return;const e=(this.currentLiuNianGan||"").trim();if(!e)return;const a=this.SI_HUA_MAP[e];if(!a)return;const s=this.calcFeiHuaTarget(a),o=this.buildTransientTargetMapFromTargetMap(s),r=this.buildLiuNianStarLabelMapFromGan(e),g=this.transientSiHuaSourceGong===i&&this.isSameTransientTargetMap(o,this.transientSiHuaTargetMap);this.transientSiHuaTargetMap=g?{}:o,this.transientLiuNianStarLabelMap=g?{}:r,this.transientSiHuaSourceGong=g?null:i}onCenterLiuYueTagClick(i,t){if(t&&t.stopPropagation(),!i)return;const e=Array.isArray(this.displayedLiuYueList)?this.displayedLiuYueList:[];let a;if(this.selectedLiuYueKey&&(a=e.find(d=>this.composeLiuYueKey(d)===this.selectedLiuYueKey)),a||(a=e.find(d=>d.isSelected)||e[0]),!a)return;const s=(a.gan||"").trim();if(!s)return;const o=this.SI_HUA_MAP[s];if(!o)return;const r=this.calcFeiHuaTarget(o),g=this.buildTransientTargetMapFromTargetMap(r),l=this.buildLiuYueStarLabelMapFromGan(s),h=this.transientSiHuaMonthSourceGong===i&&this.isSameTransientTargetMap(g,this.transientSiHuaTargetMapMonth);this.transientSiHuaTargetMapMonth=h?{}:g,this.transientLiuYueStarLabelMap=h?{}:l,this.transientSiHuaMonthSourceGong=h?null:i}getTransientSiHuaType(i){if(!i)return null;const t=this.normalizeStarName(String(i));return this.hoverSiHuaStarMap[t]||this.transientSiHuaStarMap[t]||null}getHoverSiHuaType(i){if(!i)return null;const t=this.normalizeStarName(String(i));return this.hoverSiHuaStarMap[t]||null}getTransientClickSiHuaType(i){if(!i)return null;const t=this.normalizeStarName(String(i));return this.transientSiHuaStarMap[t]||null}getYearFeiHuaLabelForStar(i){if(!i)return"";for(const t of this.FEI_HUA_TYPES)if(this.isYearSiHuaType(i,t))return this.DAYUN_FEIHUA_LABEL_MAP[t];return""}getDayunFeiHuaLabelForStar(i){if(!i)return"";for(const t of this.FEI_HUA_TYPES)if(this.isDayunSiHuaType(i,t))return this.DAYUN_FEIHUA_LABEL_MAP[t];return""}getLiuNianFeiHuaLabelForStar(i,t){if(!i)return"";for(const e of this.FEI_HUA_TYPES)if(this.isLiuNianSiHuaType(i,e)){const a=this.DAYUN_FEIHUA_LABEL_MAP[e];if(t&&!(this.DYNAMIC_GONG_MAP[t]?.liuNianFeiHuaTags||[]).includes(a))continue;return a}return""}isYearSiHuaType(i,t){if(!i||!t)return!1;const e=this.normalizeStarName(String(i)),s=this.currentSiHua?.[t];return!!s&&this.normalizeStarName(String(s))===e}isDayunSiHuaType(i,t){if(!i||!t)return!1;const e=this.normalizeStarName(String(i)),s=this.currentDayunFeiHua?.[t];return!!s&&this.normalizeStarName(String(s))===e}isLiuNianSiHuaType(i,t){if(!i||!t)return!1;const e=this.normalizeStarName(String(i)),s=this.currentLiuNianFeiHua?.[t];return!!s&&this.normalizeStarName(String(s))===e}getTransientFeiHuaLabels(i){if(!i)return[];const t=Array.isArray(this.transientSiHuaTargetMap[i])?this.transientSiHuaTargetMap[i]:[];return this.sortDayunFeiHuaTags(t)}getLiuNianFeiHuaLabelsForStar(i){if(!i)return[];const t=this.normalizeStarName(String(i)),e=this.transientLiuNianStarLabelMap[t];return Array.isArray(e)&&e.length?this.sortDayunFeiHuaTags(e):[]}getLiuYueFeiHuaLabelsForStar(i){if(!i)return[];const t=this.normalizeStarName(String(i)),e=this.transientLiuYueStarLabelMap[t];return Array.isArray(e)&&e.length?this.sortDayunFeiHuaTags(e):[]}hasTransientLiuNianLabelsForGong(i){if(!i)return!1;const t=this.DYNAMIC_XING_MAP[i]??[];for(const e of t)if(this.getLiuNianFeiHuaLabelsForStar(e).length)return!0;return!1}hasTransientLiuYueLabelsForGong(i){if(!i)return!1;const t=this.DYNAMIC_XING_MAP[i]??[];for(const e of t)if(this.getLiuYueFeiHuaLabelsForStar(e).length)return!0;return!1}getTransientFeiHuaMonthLabels(i){if(!i)return[];const t=Array.isArray(this.transientSiHuaTargetMapMonth[i])?this.transientSiHuaTargetMapMonth[i]:[];return this.sortDayunFeiHuaTags(t)}buildTransientTargetMapFromTargetMap(i){const t={};return i&&this.FEI_HUA_TYPES.forEach(e=>{const a=i[e];if(!a||"\u672a\u77e5\u5bab\u4f4d"===a)return;const s=this.DAYUN_FEIHUA_LABEL_MAP[e];s&&(Array.isArray(t[a])||(t[a]=[]),t[a].push(s),t[a]=this.sortDayunFeiHuaTags(t[a]))}),t}buildLiuNianStarLabelMapFromGan(i){if(!i)return{};const t=this.buildSiHuaStarMapFromGan(i),e={};return Object.entries(t).forEach(([a,s])=>{const o=this.DAYUN_FEIHUA_LABEL_MAP[s];o&&(Array.isArray(e[a])||(e[a]=[]),e[a].push(o),e[a]=this.sortDayunFeiHuaTags(e[a]))}),e}buildLiuYueStarLabelMapFromGan(i){return this.buildLiuNianStarLabelMapFromGan(i)}isSameTransientTargetMap(i,t){const e=Object.keys(i).sort(),a=Object.keys(t).sort();if(e.length!==a.length)return!1;for(let s=0;s<e.length;s++){if(e[s]!==a[s])return!1;const o=(i[e[s]]||[]).slice().sort(),r=(t[a[s]]||[]).slice().sort();if(o.length!==r.length)return!1;for(let g=0;g<o.length;g++)if(o[g]!==r[g])return!1}return!0}isSameTransientStarMap(i,t){const e=Object.keys(i).sort(),a=Object.keys(t).sort();if(e.length!==a.length)return!1;for(let s=0;s<e.length;s++){if(e[s]!==a[s])return!1;if(String(i[e[s]]||"").trim()!==String(t[a[s]]||"").trim())return!1}return!0}onDayunLabelClick(i,t){if(t&&t.stopPropagation(),!i)return;const e=this.dayunTimeline.find(a=>a.gongName===i);e?this.onDayunClick(e):(this.activeLabelType="dayun",this.clickGong(i))}isTaijiDayunLabel(i){return!!i&&i.trim().endsWith("\u547d")}formatDayunLabel(i){return i?this.isTaijiDayunLabel(i)?i.replace(/\u547d$/,"").trim():i:""}onFlowLabelClick(i,t){if(t&&t.stopPropagation(),!i)return;this.activeLabelType="liunian";const e=this.DYNAMIC_GONG_MAP[i];e?.zhi?this.changeLiuNianZhi(e.zhi,{preserveDayunSelection:!0}):(this.updateActiveYunMarkers({preserveDayunSelection:!0}),this.calcLiuNianFeiHuaTags(this.currentLiuNianFeiHuaTarget)),this.activeLiuNianGong=i,this.syncDayunTimelineSelection(i),this.currentLiuNianFeiHua&&(this.currentFeiHua=this.currentLiuNianFeiHua),this.currentLiuNianFeiHuaTarget&&(this.currentFeiHuaTarget=this.currentLiuNianFeiHuaTarget),this.clickGong(i)}onMonthLabelClick(i,t){if(t&&t.stopPropagation(),!i)return;this.activeLabelType="liuyue";const e=Array.isArray(this.displayedLiuYueList)?this.displayedLiuYueList:[],a=e.find(s=>s.gongName===i)||e.find(s=>this.getGongNameByZhi(s.zhi)===i);if(a){const s=this.composeLiuYueKey(a);this.updateLiuYueSelection(s,!1);const o=a.gongName||this.getGongNameByZhi(a.zhi);o&&(this.activeLiuYueGong=o,this.clickGong(o))}else this.clickGong(i)}onGongGanZhiClick(i,t){if(t&&t.stopPropagation(),!i)return;const a=this.DYNAMIC_GONG_MAP[i]?.dayunGanZhi?.trim();if(!a)return;const s=a.charAt(0),o=this.SI_HUA_MAP[s];if(!o)return;const r=this.calcFeiHuaTarget(o);this.activeDayunGong=i,this.syncDayunTimelineSelection(i),this.clickGong(i),this.currentFeiHua=o,this.currentFeiHuaTarget=r,this.applyDayunFeiHuaTagsFromTarget(r)}onLiuNianClick(i){if(!i)return;this.activeLabelType="liunian",this.selectedLiuNianYear=i.year,this.setCurrentLiuNianYear(i.year,{autoSyncLiuYue:!1}),this.updateActiveYunMarkers({preserveDayunSelection:!0});const t=this.activeLiuNianGong||this.getGongNameByZhi(this.selectedLiuNianZhi)||i.gongName;t&&(this.clickGong(t),this.updateSanFangLines(t),this.updateHighlightColors(t))}resolveActiveDayunIndex(i){if(!Array.isArray(i)||0===i.length)return-1;const t=Number.isFinite(this.currentXuSui)?this.currentXuSui:0;if(t>0){const a=i.findIndex(s=>this.isXuSuiWithinRange(t,s.startSui,s.endSui));if(-1!==a)return a}const e=i.findIndex(a=>!!a.ganZhi);return-1!==e?e:0}isXuSuiWithinRange(i,t,e){if(!Number.isFinite(i)||!Number.isFinite(t)||!Number.isFinite(e))return!1;const a=Math.min(t,e),s=Math.max(t,e);return i>=a&&i<=s}generateDynamicPan(){this.resetDynamicState();const i=this.GONG_NAME_LIST,t=this.baZiYear.charAt(0),e=this.diZhiList.findIndex(o=>o===this.mingGongZhi),a=[];for(let o=0;o<12;o++){const r=this.getSafeIndex(e+o,12);a.push(this.diZhiList[r])}i.forEach((o,r)=>{const g=a[r];if(!g)return void(this.DYNAMIC_GONG_MAP[o]={gan:"",zhi:"",wuxing:"",isShenGong:!1,fangwei:"",dayun:"",dayunGanZhi:"",dayunRange:"",dayunFeiHuaTags:[],yearFeiHuaTags:[],liuYueFeiHuaTags:[],liuNianFeiHuaTags:[]});const l=this.getGongGanByWuHuDun(t,g),h=this.WuXingMap[g]||this.ZhiHeWuXing[g]||"",d=g===this.shenGongZhi,p=this.ZHI_FANGWEI_MAP[this.getOffsetZhi(g)]||"";d&&(this.shenGongName=o),this.DYNAMIC_GONG_MAP[o]={gan:l,zhi:g,wuxing:h,isShenGong:d,fangwei:p,dayun:"",dayunGanZhi:"",dayunRange:"",dayunFeiHuaTags:[],yearFeiHuaTags:[],liuYueFeiHuaTags:[],liuNianFeiHuaTags:[]}});const s=new Set;this.DYNAMIC_GONG_LIST=i.map(o=>{const r=this.DYNAMIC_GONG_MAP[o]?.zhi,g=r?this.ZHI_GRID_LAYOUT[r]:void 0;if(g&&!s.has(`${g.gridRow}-${g.gridCol}`))return s.add(`${g.gridRow}-${g.gridCol}`),{name:o,gridRow:g.gridRow,gridCol:g.gridCol};const l=this.BASE_GONG_LAYOUT.find(h=>!s.has(`${h.gridRow}-${h.gridCol}`))??this.BASE_GONG_LAYOUT[0];return s.add(`${l.gridRow}-${l.gridCol}`),{name:o,gridRow:l.gridRow,gridCol:l.gridCol}}),this.anZhuXing(),this.anFuXing(),this.calcAllGongDayun(),this.selectedGong=i[0],this.clickGong(this.selectedGong),this.changeTianGan(this.selectedGan),this.changeLiuNianZhi(this.selectedLiuNianZhi)}anZhuXing(){const i=Object.freeze(["\u5929\u673a","\u592a\u9633","\u6b66\u66f2","\u5929\u540c","\u5ec9\u8d1e"]),t=Object.freeze(["\u592a\u9634","\u8d2a\u72fc","\u5de8\u95e8","\u5929\u76f8","\u5929\u6881","\u4e03\u6740","\u7834\u519b"]);this.DYNAMIC_XING_MAP=Object.keys(this.DYNAMIC_GONG_MAP).reduce((o,r)=>(o[r]=[],o),{}),this.DYNAMIC_STAR_BRIGHTNESS_MAP=Object.keys(this.DYNAMIC_GONG_MAP).reduce((o,r)=>(o[r]={},o),{});const a=this.calcZiWeiPosition();this.addXingToGong(a,"\u7d2b\u5fae");const s=this.TIANFU_POSITION_MAP[a]??"\u8fb0";this.addXingToGong(s,"\u5929\u5e9c"),i.forEach((o,r)=>{const g=this.getZhiByOffset(a,r+1);this.addXingToGong(g,o)}),t.forEach((o,r)=>{const g=this.getZhiByOffset(s,r+1);this.addXingToGong(g,o)})}anFuXing(){const i=this.baZiYear.charAt(0),t=this.baZiMonth.charAt(1),e=this.NIAN_GAN_XING_MAP[i];e&&(this.addXingToGong(e.\u7984\u5b58,"\u7984\u5b58"),this.addXingToGong(e.\u64ce\u7f8a,"\u64ce\u7f8a"),this.addXingToGong(e.\u9640\u7f57,"\u9640\u7f57"),this.addXingToGong(e.\u5929\u9b41,"\u5929\u9b41"),this.addXingToGong(e.\u5929\u94ba,"\u5929\u94ba"));const a=this.YUE_ZHI_XING_MAP[t];a&&(this.addXingToGong(a.\u5de6\u8f85,"\u5de6\u8f85"),this.addXingToGong(a.\u53f3\u5f3c,"\u53f3\u5f3c"),this.addXingToGong(a.\u5929\u5211,"\u5929\u5211"));const s=this.baZiYear.charAt(1),o={\u5b50:"\u5df3",\u4e11:"\u5348",\u5bc5:"\u672a",\u536f:"\u7533",\u8fb0:"\u9149",\u5df3:"\u620c",\u5348:"\u4ea5",\u672a:"\u5b50",\u7533:"\u4e11",\u9149:"\u5bc5",\u620c:"\u536f",\u4ea5:"\u8fb0"},r={\u5b50:"\u8fb0",\u4e11:"\u5df3",\u5bc5:"\u5348",\u536f:"\u672a",\u8fb0:"\u7533",\u5df3:"\u9149",\u5348:"\u620c",\u672a:"\u4ea5",\u7533:"\u5b50",\u9149:"\u4e11",\u620c:"\u5bc5",\u4ea5:"\u536f"};o[s]&&this.addXingToGong(o[s],"\u6587\u660c"),r[s]&&this.addXingToGong(r[s],"\u6587\u66f2"),["\u5bc5","\u5348","\u620c"].includes(s)?(this.addXingToGong("\u5bc5","\u706b\u661f"),this.addXingToGong("\u620c","\u94c3\u661f")):["\u7533","\u5b50","\u8fb0"].includes(s)?(this.addXingToGong("\u5df3","\u706b\u661f"),this.addXingToGong("\u536f","\u94c3\u661f")):["\u4ea5","\u536f","\u672a"].includes(s)?(this.addXingToGong("\u4ea5","\u706b\u661f"),this.addXingToGong("\u9149","\u94c3\u661f")):["\u5df3","\u9149","\u4e11"].includes(s)&&(this.addXingToGong("\u7533","\u706b\u661f"),this.addXingToGong("\u5348","\u94c3\u661f"));const g={\u5b50:"\u4ea5",\u4e11:"\u4ea5",\u5bc5:"\u4e11",\u536f:"\u4e11",\u8fb0:"\u536f",\u5df3:"\u536f",\u5348:"\u5df3",\u672a:"\u5df3",\u7533:"\u672a",\u9149:"\u672a",\u620c:"\u9149",\u4ea5:"\u9149"},l={\u5b50:"\u4ea5",\u4e11:"\u620c",\u5bc5:"\u9149",\u536f:"\u7533",\u8fb0:"\u672a",\u5df3:"\u5348",\u5348:"\u5df3",\u672a:"\u8fb0",\u7533:"\u536f",\u9149:"\u5bc5",\u620c:"\u4e11",\u4ea5:"\u5b50"};g[s]&&this.addXingToGong(g[s],"\u5730\u7a7a"),l[s]&&this.addXingToGong(l[s],"\u5730\u52ab"),["\u5bc5","\u5348","\u620c"].includes(s)?this.addXingToGong("\u7533","\u5929\u9a6c"):["\u7533","\u5b50","\u8fb0"].includes(s)?this.addXingToGong("\u5bc5","\u5929\u9a6c"):["\u4ea5","\u536f","\u672a"].includes(s)?this.addXingToGong("\u5df3","\u5929\u9a6c"):["\u5df3","\u9149","\u4e11"].includes(s)&&this.addXingToGong("\u4ea5","\u5929\u9a6c");const h={\u5b50:"\u536f",\u4e11:"\u5bc5",\u5bc5:"\u4e11",\u536f:"\u5b50",\u8fb0:"\u4ea5",\u5df3:"\u620c",\u5348:"\u9149",\u672a:"\u7533",\u7533:"\u672a",\u9149:"\u5348",\u620c:"\u5df3",\u4ea5:"\u8fb0"},d={\u5b50:"\u9149",\u4e11:"\u7533",\u5bc5:"\u672a",\u536f:"\u5348",\u8fb0:"\u5df3",\u5df3:"\u8fb0",\u5348:"\u536f",\u672a:"\u5bc5",\u7533:"\u4e11",\u9149:"\u5b50",\u620c:"\u4ea5",\u4ea5:"\u620c"};h[s]&&this.addXingToGong(h[s],"\u7ea2\u9e3e"),d[s]&&this.addXingToGong(d[s],"\u5929\u559c");const p={\u7532:"\u7533",\u4e59:"\u672a",\u4e19:"\u5df3",\u4e01:"\u5348",\u620a:"\u5df3",\u5df1:"\u5348",\u5e9a:"\u5bc5",\u8f9b:"\u536f",\u58ec:"\u5b50",\u7678:"\u4e11"};p[i]&&this.addXingToGong(p[i],"\u5929\u59da")}calcZiWeiPosition(){const i=this.wuXingJu.match(/[23456]/),t=i?Number(i[0]):5,e=this.ZIWEI_POSITION_TABLE[t.toString()];if(!e)return"\u5bc5";const a=this.lunarDayNum,s=Math.floor((a-1)/2)%12;return console.log(`\u3010\u7d2b\u5fae\u5b9a\u4f4d\u3011\u4e94\u884c\u5c40:${this.wuXingJu} \u519c\u5386\u65e5:${a} \u2192 \u7d22\u5f15:${s} \u2192 \u7d2b\u5fae\u5728:${e[s]}`),e[s]||"\u5bc5"}addXingToGong(i,t){const e=Object.keys(this.DYNAMIC_GONG_MAP).find(o=>this.DYNAMIC_GONG_MAP[o]?.zhi===i);if(!e)return;const a=this.normalizeStarName(t);if(!a)return;this.DYNAMIC_XING_MAP[e].includes(a)||this.DYNAMIC_XING_MAP[e].push(a);const s=this.getBrightnessLabel(a,e);s&&(this.DYNAMIC_STAR_BRIGHTNESS_MAP[e]||(this.DYNAMIC_STAR_BRIGHTNESS_MAP[e]={}),this.DYNAMIC_STAR_BRIGHTNESS_MAP[e][a]=s)}getZhiByOffset(i,t){const e=["\u5b50","\u4ea5","\u620c","\u9149","\u7533","\u672a","\u5348","\u5df3","\u8fb0","\u536f","\u5bc5","\u4e11"],a=e.findIndex(o=>o===i);return e[-1===a?t%12:(a+t)%12]}getShiZhiByTime(i,t){return 23===i&&t>=0||i>=0&&i<1?"\u5b50":i>=1&&i<3?"\u4e11":i>=3&&i<5?"\u5bc5":i>=5&&i<7?"\u536f":i>=7&&i<9?"\u8fb0":i>=9&&i<11?"\u5df3":i>=11&&i<13?"\u5348":i>=13&&i<15?"\u672a":i>=15&&i<17?"\u7533":i>=17&&i<19?"\u9149":i>=19&&i<21?"\u620c":"\u4ea5"}getShiStartTime(i){const t=this.ShiZhuMap[i];if(!t)return{hour:12,minute:0};const[e]=t.split("-"),a=Number(e);return{hour:Number.isFinite(a)?a:12,minute:0}}getShiLabel(i){const t=this.SHI_OPTIONS.find(e=>e.value===i);return t?t.label:`${i}\u65f6`}getJieQiDateTime(i,t){const e={\u7acb\u6625:{month:1,day:4,hour:8,minute:24},\u60ca\u86f0:{month:2,day:6,hour:0,minute:0},\u6e05\u660e:{month:3,day:5,hour:4,minute:0},\u7acb\u590f:{month:4,day:5,hour:8,minute:0},\u8292\u79cd:{month:5,day:5,hour:20,minute:43},\u5c0f\u6691:{month:6,day:7,hour:13,minute:0},\u7acb\u79cb:{month:7,day:7,hour:15,minute:0},\u767d\u9732:{month:8,day:7,hour:17,minute:0},\u5bd2\u9732:{month:9,day:8,hour:19,minute:0},\u7acb\u51ac:{month:10,day:7,hour:19,minute:0},\u5927\u96ea:{month:11,day:7,hour:17,minute:0},\u5c0f\u5bd2:{month:0,day:6,hour:6,minute:0}},{month:a,day:s,hour:o,minute:r}=e[t]??e.\u7acb\u6625;return Date.UTC(i,a,s,o,r,0)}getYueZhuByJieQi(i,t,e,a,s,o){const r=Date.UTC(i,t-1,e,a,s),g=[{jieQi:"\u7acb\u6625",yueZhi:"\u5bc5"},{jieQi:"\u60ca\u86f0",yueZhi:"\u536f"},{jieQi:"\u6e05\u660e",yueZhi:"\u8fb0"},{jieQi:"\u7acb\u590f",yueZhi:"\u5df3"},{jieQi:"\u8292\u79cd",yueZhi:"\u5348"},{jieQi:"\u5c0f\u6691",yueZhi:"\u672a"},{jieQi:"\u7acb\u79cb",yueZhi:"\u7533"},{jieQi:"\u767d\u9732",yueZhi:"\u9149"},{jieQi:"\u5bd2\u9732",yueZhi:"\u620c"},{jieQi:"\u7acb\u51ac",yueZhi:"\u4ea5"},{jieQi:"\u5927\u96ea",yueZhi:"\u5b50"},{jieQi:"\u5c0f\u5bd2",yueZhi:"\u4e11"}];let l="\u5bc5";for(let C=0;C<g.length;C++){const _=g[C],x=g[(C+1)%g.length];let f,M;if("\u5927\u96ea"===_.jieQi?(f=this.getJieQiDateTime(1===t?i-1:i,"\u5927\u96ea"),M=this.getJieQiDateTime(i,"\u5c0f\u5bd2")):"\u5c0f\u5bd2"===_.jieQi?(f=this.getJieQiDateTime(i,"\u5c0f\u5bd2"),M=this.getJieQiDateTime(12===t?i+1:i,"\u7acb\u6625")):"\u7acb\u6625"===_.jieQi?(f=this.getJieQiDateTime(i,"\u7acb\u6625"),M=this.getJieQiDateTime(i,"\u60ca\u86f0")):(f=this.getJieQiDateTime(i,_.jieQi),M=this.getJieQiDateTime(i,x.jieQi)),r>=f&&r<M){l=_.yueZhi;break}}const d=["\u5bc5","\u536f","\u8fb0","\u5df3","\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5","\u5b50","\u4e11"].findIndex(C=>C===l),p=this.getSafeIndex(2*o+2,10),m=this.getSafeIndex(p+d,10),G=this.tianGanList[m];return{gan:G,zhi:l,fullGanZhi:`${G}${l}`}}getRiZhuBySolar(i,t,e){const a=new Date(1900,0,31),s=new Date(i,t-1,e),o=this.calcDaysDiff(a,s),l=this.getSafeIndex(0+o,10),h=this.getSafeIndex(4+o,12);return`${this.tianGanList[l]}${this.diZhiList[h]}`}getShiGanStart(i){switch(i){case"\u7532":case"\u5df1":return"\u7532";case"\u4e59":case"\u5e9a":return"\u4e19";case"\u4e19":case"\u8f9b":return"\u620a";case"\u4e01":case"\u58ec":return"\u5e9a";case"\u620a":case"\u7678":return"\u58ec";default:return""}}getShiZhuByRiGanAndShiZhi(i,t){const e=this.diZhiList.findIndex(g=>g===t),a=this.getShiGanStart(i),s=this.tianGanList.findIndex(g=>g===a),o=this.getSafeIndex(s+e,10);return`${this.tianGanList[o]}${t}`}calcDaysDiff(i,t){const e=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),a=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((a-e)/864e5)}getSafeIndex(i,t){return(i%t+t)%t}getLunarDayNumFix(i,t,e){const a=this.getJieQiDateTime(i,this.getYueJieQi(t)),s=Date.UTC(i,t-1,e),o=Math.floor((s-a)/864e5),r=this.getSafeIndex(o,30)+1;return 2e3===i&&6===t?1===e?29:6===e?5:r:r}getRiZhiByYueShangQuRi(i,t){const e=this.diZhiList.findIndex(s=>s===i),a=this.getSafeIndex(e+(t-1),12);return this.diZhiList[a]}getYueJieQi(i){return{1:"\u5c0f\u5bd2",2:"\u7acb\u6625",3:"\u60ca\u86f0",4:"\u6e05\u660e",5:"\u7acb\u590f",6:"\u8292\u79cd",7:"\u5c0f\u6691",8:"\u7acb\u79cb",9:"\u767d\u9732",10:"\u5bd2\u9732",11:"\u7acb\u51ac",12:"\u5927\u96ea"}[i]||"\u7acb\u6625"}getLunarBirthString(){return this.astrolabe?.lunarDate?this.astrolabe.lunarDate:this.solarYearNum&&this.lunarMonth&&this.lunarDayChinese?`${this.getYearChinese(this.solarYearNum)}\u5e74${this.ZHI_TO_LUNAR_MONTH[this.lunarMonth]||this.lunarMonth}${this.lunarDayChinese}`:""}generateZiWeiPan(){this.tryBuildAstrolabe(),this.astrolabe?(this.solarToLunarAndBaZi(),this.buildAstrolabeState(),this.applyAstrolabeDates(),this.setCurrentLiuNianYear(this.currentLiuNianYear||(new Date).getFullYear()),this.updateActiveYunMarkers(),this.isShowPersonInfo=!0,console.log("\u2705 \u6b63\u7edf\u6392\u76d8\u7ed3\u679c\u9a8c\u8bc1\uff1a",this.baZiYear,this.baZiMonth,this.baZiDay,this.baZiShi),console.log("\u2705 \u547d\u5bab:",this.mingGongZhi,"\u8eab\u5bab:",this.shenGongZhi,"\u8eab\u5bab\u5bab\u540d:",this.shenGongName),console.log("\u2705 \u4e94\u884c\u5c40:",this.wuXingJu,"\u8d77\u8fd0\u865a\u5c81:",this.qiYunXuSui,"\u987a\u884c\u5927\u8fd0:",this.isShunXing),console.log("\u2705 \u5927\u8fd0\u6570\u636e:",this.yunDataMap),this.debugBaziCalculation()):console.warn("astro.bySolar \u672a\u8fd4\u56de\u6570\u636e\uff0c\u65e0\u6cd5\u751f\u6210\u6392\u76d8")}tryBuildAstrolabe(){if(!this.solarDate)return void(this.astrolabe=null);const[i,t,e]=this.solarDate.split("-"),a=Number(i),s=Number(t),o=Number(e),r=this.getShiChenIndex(this.solarShi),g=this.personGender||"\u7537";if(!Number.isFinite(a)||!Number.isFinite(s)||!Number.isFinite(o))return console.warn("\u65e0\u6cd5\u89e3\u6790\u9633\u5386\u65e5\u671f\uff0c\u8df3\u8fc7 astro.bySolar \u8c03\u7528"),void(this.astrolabe=null);try{this.astrolabe=O.astro.bySolar(`${a}-${s}-${o}`,r,g)}catch(l){console.warn("\u8c03\u7528 astro.bySolar \u5931\u8d25\uff0c\u5c06\u7ee7\u7eed\u4f7f\u7528\u672c\u5730\u6392\u76d8\u903b\u8f91",l),this.astrolabe=null}}debugBaziCalculation(){const[i,t,e]=(this.solarDate||"").split("-"),a=Number(i),s=Number(t),o=Number(e);console.log("========== \u516b\u5b57\u8ba1\u7b97\u8be6\u60c5 =========="),console.log("\u9633\u5386\u65e5\u671f\uff1a",`${a}-${s}-${o}`,`${this.solarShi}\u65f6`);const r=this.getJieQiDateTime(a,"\u7acb\u6625"),g=new Date(r);console.log(`${a}\u5e74\u7acb\u6625\u65f6\u95f4\uff1a`,g.toISOString());const l=this.getYueJieQi(s),h=this.getJieQiDateTime(a,l),d=new Date(h);console.log(`${a}\u5e74${s}\u6708\u8282\u6c14\uff08${l}\uff09\uff1a`,d.toISOString()),console.log("\u519c\u5386\u751f\u8fb0\uff1a",`${this.lunarYear}\u5e74${this.lunarMonthFull} ${this.lunarDay}\u65e5 ${this.lunarShi}\u65f6`),console.log("\u751f\u8fb0\u516b\u5b57\uff1a",this.baZiYear,this.baZiMonth,this.baZiDay,this.baZiShi),console.log("\u6708\u67f1\u8bf4\u660e\uff1a",this.getMonthPillarExplanation()),console.log("=================================")}getMonthPillarExplanation(){const i=this.lunarMonth;return`\u6708\u67f1 ${this.baZiMonth} \u5bf9\u5e94\u519c\u5386${{\u5bc5:"\u6b63\u6708(\u7acb\u6625-\u60ca\u86f0)",\u536f:"\u4e8c\u6708(\u60ca\u86f0-\u6e05\u660e)",\u8fb0:"\u4e09\u6708(\u6e05\u660e-\u7acb\u590f)",\u5df3:"\u56db\u6708(\u7acb\u590f-\u8292\u79cd)",\u5348:"\u4e94\u6708(\u8292\u79cd-\u5c0f\u6691)",\u672a:"\u516d\u6708(\u5c0f\u6691-\u7acb\u79cb)",\u7533:"\u4e03\u6708(\u7acb\u79cb-\u767d\u9732)",\u9149:"\u516b\u6708(\u767d\u9732-\u5bd2\u9732)",\u620c:"\u4e5d\u6708(\u5bd2\u9732-\u7acb\u51ac)",\u4ea5:"\u5341\u6708(\u7acb\u51ac-\u5927\u96ea)",\u5b50:"\u51ac\u6708(\u5927\u96ea-\u5c0f\u5bd2)",\u4e11:"\u814a\u6708(\u5c0f\u5bd2-\u7acb\u6625)"}[i]||i}`}resetPan(){this.personName="",this.personGender="\u7537",this.solarDate=(new Date).toISOString().split("T")[0],this.solarShi="\u5348",this.lunarYear="",this.lunarMonth="",this.lunarDay="",this.lunarShi="",this.lunarDayNum=1,this.lunarDayZhi="",this.baZiYear="",this.baZiMonth="",this.baZiDay="",this.baZiShi="",this.mingGongZhi="\u5bc5",this.shenGongZhi="\u4e11",this.shenGongName="\u798f\u5fb7\u5bab",this.selectedGong="\u547d\u5bab",this.selectedGan="\u7532",this.isShowPersonInfo=!1,this.resetDynamicState(),this.dayunTimeline=[],this.dayunLiuNianMap={},this.selectedDayunForTimeline="",this.displayedLiuNianList=[],this.displayedLiuYueList=[],this.selectedLiuYueKey="",this.activeLiuYueGong="",this.activeDayunIndex=-1,this.selectedLiuNianYear=null,this.lunarMonthFull=""}normalizeSolarDate(){const i=(this.solarDate||"").trim();if(!i)return;if(/^\d{4}-\d{2}-\d{2}$/.test(i))return void(this.solarDate=i);const e=i.replace(/[\u5e74./\u3002\uff0e]/g,"-").replace(/\u6708/g,"-").replace(/\u65e5/g,"").replace(/\s+/g,"").match(/^(\d{4})\D?(\d{1,2})\D?(\d{1,2})$/);if(e){const[,a,s,o]=e,r=s.padStart(2,"0"),g=o.padStart(2,"0");this.solarDate=`${a}-${r}-${g}`}else this.solarDate=""}changeTianGan(i){this.selectedGan=i,this.currentSiHua=this.SI_HUA_MAP[i]??this.SI_HUA_MAP.\u7532,this.calcYearFeiHuaTags()}changeLiuNianZhi(i,t){const e=this.diZhiList.findIndex(r=>r===i);if(-1===e)return this.selectedLiuNianZhi=i,void this.updateActiveYunMarkers(t);const a=this.getGanZhiByYear(this.currentLiuNianYear),s=this.diZhiList.findIndex(r=>r===a.zhi);this.setCurrentLiuNianYear(this.currentLiuNianYear+(-1===s?0:e-s)),this.updateActiveYunMarkers(t)}yieldDayunLabel(i,t=!1){const e=this.DAYUN_GONG_SEQUENCE,a=e.indexOf(i);if(-1===a)return"";const s=t?this.DAYUN_LABEL_SEQUENCE.map(h=>h.replace("\u5927","\u6d41")):this.DAYUN_LABEL_SEQUENCE,o=this.activeLiuNianGong&&e.includes(this.activeLiuNianGong)?this.activeLiuNianGong:null,r=t?o||(this.selectedGong&&e.includes(this.selectedGong)?this.selectedGong:"\u547d\u5bab"):this.activeDayunGong&&e.includes(this.activeDayunGong)?this.activeDayunGong:"\u547d\u5bab",g=e.indexOf(r);return-1===g?s[a]??"":s[this.getSafeIndex(a-g,s.length)]??""}yieldMonthLabel(i){if(!this.selectedLiuYueKey||!this.activeLiuYueGong)return"";const t=this.DAYUN_GONG_SEQUENCE,e=t.indexOf(i);if(-1===e)return"";const a=this.DAYUN_LABEL_SEQUENCE.map(g=>g.replace("\u5927","\u6708")),s=t.includes(this.activeLiuYueGong)?this.activeLiuYueGong:"\u547d\u5bab",o=t.indexOf(s);return-1===o?a[e]??"":a[this.getSafeIndex(e-o,a.length)]??""}getActiveLiuYueLabel(){const i=Array.isArray(this.displayedLiuYueList)?this.displayedLiuYueList:[];if(!i.length||!this.selectedLiuYueKey)return"";const t=i.find(e=>this.composeLiuYueKey(e)===this.selectedLiuYueKey);return t?`${t.lunarLabel}(${t.ganZhi})`:""}onLiuYueClick(i){if(!i)return;this.activeLabelType="liuyue";const t=this.composeLiuYueKey(i);this.updateLiuYueSelection(t);const e=this.activeLiuYueGong||this.getGongNameByZhi(i.zhi);e&&(this.activeLiuYueGong=e,this.clickGong(e))}isLiuYueSelected(i){return!!i?.isSelected}composeLiuYueKey(i){return i?`${i.gan}${i.zhi}-${i.month}`:""}updateLiuYueSelection(i,t=!0){const e=Array.isArray(this.displayedLiuYueList)?this.displayedLiuYueList:[];if(!e.length)return this.selectedLiuYueKey="",this.activeLiuYueGong="",this.displayedLiuYueList=[],this.currentLiuYueFeiHua={},this.currentLiuYueFeiHuaTarget={},void this.calcLiuYueFeiHuaTags();let a=[];i&&a.push(i);const s=e.find(g=>g.isCurrent);let o;s&&a.push(this.composeLiuYueKey(s)),this.selectedLiuYueKey&&a.push(this.selectedLiuYueKey),e.length&&a.push(this.composeLiuYueKey(e[0]));for(const g of a){if(!g)continue;const l=e.find(h=>this.composeLiuYueKey(h)===g);if(l){o=l;break}}o||(o=e[0]),this.selectedLiuYueKey=this.composeLiuYueKey(o);const r=e.map(g=>({...g,isSelected:this.composeLiuYueKey(g)===this.selectedLiuYueKey}));if(this.displayedLiuYueList=r,t){const g=(o.gan||"").trim();g&&this.SI_HUA_MAP[g]?(this.currentLiuYueFeiHua=this.SI_HUA_MAP[g],this.currentLiuYueFeiHuaTarget=this.calcFeiHuaTarget(this.currentLiuYueFeiHua)):(this.currentLiuYueFeiHua={},this.currentLiuYueFeiHuaTarget={}),this.calcLiuYueFeiHuaTags(this.currentLiuYueFeiHuaTarget)}else this.currentLiuYueFeiHua={},this.currentLiuYueFeiHuaTarget={},this.calcLiuYueFeiHuaTags();this.activeLiuYueGong=o.gongName||this.getGongNameByZhi(o.zhi)||"",!this.activeLiuYueGong&&this.selectedLiuNianZhi&&(this.activeLiuYueGong=this.getGongNameByZhi(this.selectedLiuNianZhi)||"")}clickGong(i){this.transientSiHuaSourceGong&&(this.transientSiHuaSourceGong=null,this.transientSiHuaStarMap={}),this.hoveringGanZhiGong=null,this.hoverSiHuaStarMap={},this.selectedGong=i;const t=this.SAN_HE_MAP[i];this.highlightSiZhengGong=t?.siZheng??[],this.currentFeiHua=this.calcGongFeiHua(i),this.currentFeiHuaTarget=this.calcFeiHuaTarget(this.currentFeiHua),this.updateSanFangLines(i),this.updateHighlightColors(i)}getGongYearRange(i){const t=this.yunDataMap[i];if(!t||!t.suiShu)return"";const e=String(t.suiShu).match(/^(\d{1,3})(?:-(\d{1,3}))?$/);if(!e)return"";const a=parseInt(e[1],10),s=e[2]?parseInt(e[2],10):a;if(!Number.isFinite(this.solarYearNum)||!a)return"";const o=this.solarYearNum+a-1,r=this.solarYearNum+s-1;return o===r?`${o}`:`${o}~${r}`}updateSanFangLines(i){this.sanFangLines=this.buildSanFangLines(i)}updateHighlightColors(i){const t={},e=this.SAN_HE_MAP[i];e?(t[i]=this.composeHighlightClass(i,"highlight-main",!1),(Array.isArray(e.sanFang)?e.sanFang.filter(s=>!!s):[]).forEach((s,o)=>{s&&(t[s]=this.composeHighlightClass(s,0===o?"highlight-sanfang-a":"highlight-sanfang-b"))}),e.duiGong&&(t[e.duiGong]=this.composeHighlightClass(e.duiGong,"highlight-duigong",!1)),this.highlightColorMap=t):this.highlightColorMap=t}composeHighlightClass(i,t,e=!0){const a=[t];return e&&this.shouldUseFinanceHighlight(i)&&a.push("highlight-finance"),this.shouldUseFlowOfficialHighlight(i)&&a.push("highlight-flow-official"),a.join(" ")}shouldUseFinanceHighlight(i){const t=["\u8d22","\u5927\u8d22","\u6d41\u8d22"];return!!t.some(a=>i.includes(a))||[this.yieldDayunLabel(i,!1),this.yieldDayunLabel(i,!0)].filter(a=>!!a).some(a=>t.some(s=>a.includes(s)))}shouldUseFlowOfficialHighlight(i){const t=this.yieldDayunLabel(i,!0);return!(!t||!t.includes("\u6d41\u5b98"))}buildSanFangLines(i){const t=this.SAN_HE_MAP[i];if(!t)return[];const e=[],s=[i,...(t.sanFang??[]).filter(r=>!!r)],o=this.computeTriangleAnchors(s);if(s.length>=2){const r=Array.from(new Set(s));if(r.length>=2)for(let g=0;g<r.length;g++){const l=r[g],h=r[(g+1)%r.length];l!==h&&e.push({from:l,to:h,type:"sanFang",fromPoint:o[l],toPoint:o[h]})}}if(t.duiGong){const r=this.computeTriangleAnchors([t.duiGong,...this.SAN_HE_MAP[t.duiGong]?.sanFang??[]]),g=o[i]??this.getBoundaryPointTowards(i,this.getGongPosition(t.duiGong)),l=r[t.duiGong]??this.getBoundaryPointTowards(t.duiGong,this.getGongPosition(i));e.push({from:i,to:t.duiGong,type:"duiGong",fromPoint:g,toPoint:l})}return e}calcGongFeiHua(i){const t=this.DYNAMIC_GONG_MAP[i];return t?.gan?this.SI_HUA_MAP[t.gan]??{}:{}}calcFeiHuaTarget(i){if(!i||0===Object.keys(i).length)return{};const t={},e=Object.entries(this.DYNAMIC_XING_MAP).reduce((s,[o,r])=>(Array.isArray(r)&&r.forEach(g=>{const l=this.normalizeStarName(g);l&&(l in s||(s[l]=o))}),s),{}),a=Object.entries(this.ZiWeiAnXing).reduce((s,[o,r])=>{const g=Array.isArray(r)?r:[String(r)],l=Object.keys(this.DYNAMIC_GONG_MAP).find(h=>this.DYNAMIC_GONG_MAP[h]?.zhi===o);return g.forEach(h=>{const d=this.normalizeStarName(h);!s[d]&&l&&(s[d]=l)}),s},{});for(const[s,o]of Object.entries(i)){const r=this.normalizeStarName(o);t[s]=e[r]||a[r]||"\u672a\u77e5\u5bab\u4f4d"}return t}normalizeStarName(i){return i?i.replace(/\s+/g,"").replace(/[\uff08(][^\uff08\uff09()]*[\uff09)]/g,"").replace(/(\u5316\u7984|\u5316\u6743|\u5316\u79d1|\u5316\u5fcc|\u81ea\u5316).*$/g,"").replace(/[\uff0a*\u005B\u005D\u3010\u3011]/g,"").trim():""}getBrightnessLabel(i,t,e){const a=this.normalizeStarName(i);if(!a)return"";const s=e?.trim();if(s)return s;const o=this.DYNAMIC_GONG_MAP[t]?.zhi;if(!o)return"";const r=this.BRIGHTNESS_INDEX_MAP[o];if(void 0===r)return"";try{const g=O.util.getBrightness(a,r);return"string"==typeof g?g.trim():""}catch(g){return console.debug("\u83b7\u53d6\u661f\u66dc\u4eae\u5ea6\u5931\u8d25",a,t,g),""}}getStarBrightness(i,t){const e=this.normalizeStarName(String(t));if(!e)return"";const a=this.DYNAMIC_STAR_BRIGHTNESS_MAP[i];if(a?.[e])return a[e];const s=this.getBrightnessLabel(e,i);return s&&(this.DYNAMIC_STAR_BRIGHTNESS_MAP[i]||(this.DYNAMIC_STAR_BRIGHTNESS_MAP[i]={}),this.DYNAMIC_STAR_BRIGHTNESS_MAP[i][e]=s),s}getGanZhiByYear(i){const t=(new Date).getFullYear(),e=Number.isFinite(i)?Math.trunc(i):t,a=this.getSafeIndex((e-4)%10,10),s=this.getSafeIndex((e-4)%12,12);return{gan:this.tianGanList[a],zhi:this.diZhiList[s]}}setCurrentLiuNianYear(i,t){if(!Number.isFinite(i))return;const e=Math.trunc(i),{gan:a,zhi:s}=this.getGanZhiByYear(e);this.currentLiuNianYear=e,this.selectedLiuNianYear=e,this.selectedLiuNianZhi=s,this.currentLiuNianGan=a,this.currentLiuNianFeiHua=this.SI_HUA_MAP[a]??this.SI_HUA_MAP.\u7532;const o=!(!this.DYNAMIC_XING_MAP||!Object.keys(this.DYNAMIC_XING_MAP).length);this.currentLiuNianFeiHuaTarget=o?this.calcFeiHuaTarget(this.currentLiuNianFeiHua):{},this.calcLiuNianFeiHuaTags(this.currentLiuNianFeiHuaTarget);const r=this.buildLiuYueList(e);!1!==t?.autoSyncLiuYue?(this.displayedLiuYueList=r,this.updateLiuYueSelection()):(this.displayedLiuYueList=r.map(l=>({...l,isSelected:!1})),this.selectedLiuYueKey="",this.activeLiuYueGong="",this.currentLiuYueFeiHua={},this.currentLiuYueFeiHuaTarget={},this.calcLiuYueFeiHuaTags())}buildLiuYueList(i){if(!Number.isFinite(i))return[];const t=Math.trunc(i),{gan:e,zhi:a}=this.getGanZhiByYear(t),s=this.WU_HU_DUN_MAP[e]??"\u4e19",o=this.tianGanList.findIndex(_=>_===s),r=this.diZhiList.findIndex(_=>"\u5bc5"===_);if(-1===o||-1===r)return[];const l=this.getGongNameByZhi(this.selectedLiuNianZhi||a)||"\u547d\u5bab",h=[...this.DAYUN_GONG_SEQUENCE];let d=h.indexOf(l);-1===d&&(d=0);const p=new Date,m=p.getFullYear(),G=p.getMonth()+1,C=[];for(let _=0;_<12;_++){const x=this.getSafeIndex(o+_,10),f=this.getSafeIndex(r+_,12),M=this.tianGanList[x],y=this.diZhiList[f],P=this.ZHI_TO_LUNAR_MONTH[y]??`${y}\u6708`,b=h[this.getSafeIndex(d-_,12)];C.push({month:_+1,lunarLabel:P,gan:M,zhi:y,ganZhi:`${M}${y}`,isCurrent:t===m&&G===_+1,gongName:b,isSelected:!1})}return C}updateActiveYunMarkers(i){const t=!0===i?.preserveDayunSelection;if(t||(this.activeDayunGong=""),this.activeLiuNianGong="",this.selectedLiuNianZhi){const e=this.getGongNameByZhi(this.selectedLiuNianZhi);e&&(this.activeLiuNianGong=e)}if(!t&&this.currentXuSui>0&&this.yunDataMap){const e=this.currentXuSui;for(const[a,s]of Object.entries(this.yunDataMap)){const o=s?.suiShu??"",[r,g]=o.split("-").map(d=>d.trim()),l=Number(r),h=Number(g);if(Number.isFinite(l)&&Number.isFinite(h)&&e>=l&&e<=h){this.activeDayunGong=a;break}}}this.syncDayunTimelineSelection(t?this.selectedDayunForTimeline:void 0)}isZiHua(i,t){const e=this.calcGongFeiHua(i);if(!e||0===Object.keys(e).length)return!1;const a=this.calcFeiHuaTarget(e);return!(!a||0===Object.keys(a).length)&&a[t]===i}getFeiHuaTag(i){if(!this.currentFeiHuaTarget)return[];const t=[];for(const[e,a]of Object.entries(this.currentFeiHuaTarget))a===i&&t.push(`\u98de${e}`);return t}formatFeiHuaLabel(i){return i?i.replace(/^\u98de\u5316/,"").replace(/^\u98de/,""):""}getShengKeRel(i,t){const e=this.DYNAMIC_GONG_MAP[i],a=this.DYNAMIC_GONG_MAP[t];if(!e?.wuxing||!a?.wuxing)return{rel:"\u672a\u77e5",desc:"\u5f85\u6392\u76d8\u6570\u636e"};const s=e.wuxing,o=a.wuxing;return s===o?{rel:"\u6bd4\u548c",desc:this.ShengKe_DESC.\u6bd4\u548c}:this.WU_XING_ShengKe[s].\u751f===o?{rel:"\u751f",desc:this.ShengKe_DESC.\u751f}:this.WU_XING_ShengKe[s].\u514b===o?{rel:"\u514b",desc:this.ShengKe_DESC.\u514b}:this.WU_XING_ShengKe[s].\u88ab\u751f===o?{rel:"\u88ab\u751f",desc:this.ShengKe_DESC.\u88ab\u751f}:{rel:"\u88ab\u514b",desc:this.ShengKe_DESC.\u88ab\u514b}}shouldHighlightStar(i){return!!i&&this.highlightStarSet.has(this.normalizeStarName(String(i)))}getZhuXingByGong(i){const t=this.DYNAMIC_XING_MAP[i]??[],e=this.ZHU_XING.map(a=>this.normalizeStarName(String(a)));return t.filter(a=>e.includes(this.normalizeStarName(String(a))))}getJiXingTag(i){const t=this.DYNAMIC_XING_MAP[i]??[],e=this.JI_XING.map(a=>this.normalizeStarName(String(a)));return t.filter(a=>e.includes(this.normalizeStarName(String(a))))}getShaXingTag(i){const t=this.DYNAMIC_XING_MAP[i]??[],e=this.SHA_XING.map(a=>this.normalizeStarName(String(a)));return t.filter(a=>e.includes(this.normalizeStarName(String(a))))}getZaXingTag(i){const t=this.DYNAMIC_XING_MAP[i]??[],e=this.ZA_XING.map(a=>this.normalizeStarName(String(a)));return t.filter(a=>e.includes(this.normalizeStarName(String(a))))}isHighlight(i){return this.highlightSiZhengGong?.includes(i)??!1}getGongPosition(i){const t=this.DYNAMIC_GONG_LIST.find(s=>s.name===i);return t?{x:(t.gridCol-1)*(this.GRID_CELL+this.GRID_GAP)+this.GRID_CELL/2,y:(t.gridRow-1)*(this.GRID_CELL+this.GRID_GAP)+this.GRID_CELL/2}:{x:0,y:0}}getBoundaryIntersection(i,t,e,a){if(!i||0===e&&0===a)return t;const s=(i.gridCol-1)*(this.GRID_CELL+this.GRID_GAP),o=s+this.GRID_CELL,r=(i.gridRow-1)*(this.GRID_CELL+this.GRID_GAP),g=r+this.GRID_CELL;let l=1/0;return 0!==e&&[s,o].forEach(h=>{const d=(h-t.x)/e;if(d>0&&d<l){const p=t.y+d*a;p>=r&&p<=g&&(l=d)}}),0!==a&&[r,g].forEach(h=>{const d=(h-t.y)/a;if(d>0&&d<l){const p=t.x+d*e;p>=s&&p<=o&&(l=d)}}),isFinite(l)?{x:t.x+l*e,y:t.y+l*a}:t}getBoundaryPointTowards(i,t){const e=this.DYNAMIC_GONG_LIST.find(r=>r.name===i),a=this.getGongPosition(i);return this.getBoundaryIntersection(e,a,t.x-a.x,t.y-a.y)}computeTriangleAnchors(i){const t=Array.from(new Set(i.filter(s=>!!s)));if(t.length<2)return{};const e=t.reduce((s,o)=>{const r=this.getGongPosition(o);return{x:s.x+r.x,y:s.y+r.y}},{x:0,y:0});e.x/=t.length,e.y/=t.length;const a={};return t.forEach(s=>{a[s]=this.getBoundaryPointTowards(s,e)}),a}getEdgePosition(i,t){const e=this.DYNAMIC_GONG_LIST.find(g=>g.name===i),a=this.getGongPosition(i);if(!e)return a;const s=this.getGongPosition(t);return this.getBoundaryIntersection(e,a,s.x-a.x,s.y-a.y)}getFeiHuaPath(i,t){const e=this.getEdgePosition(i,t),a=this.getEdgePosition(t,i),s=this.DYNAMIC_GONG_LIST.find(C=>C.name===i),o=this.DYNAMIC_GONG_LIST.find(C=>C.name===t),g=s&&o&&Math.abs(s.gridRow-o.gridRow)+Math.abs(s.gridCol-o.gridCol)===1?{x:(e.x+a.x)/2,y:(e.y+a.y)/2}:a;return`M ${e.x} ${e.y} Q ${(e.x+g.x)/2-(g.y-e.y)*this.PATH_CURVE_RATIO} ${(e.y+g.y)/2+(g.x-e.x)*this.PATH_CURVE_RATIO} ${g.x} ${g.y}`}getStraightPath(i){const t=i.fromPoint??this.getEdgePosition(i.from,i.to),e=i.toPoint??this.getEdgePosition(i.to,i.from);return`M ${t.x} ${t.y} L ${e.x} ${e.y}`}getHighlightColorClass(i){return this.highlightColorMap[i]??""}getOffsetZhi(i){return i}static{this.\u0275fac=function(t){return new(t||u)}}static{this.\u0275cmp=n.VBU({type:u,selectors:[["app-ziwei-pan"]],decls:75,vars:32,consts:[[1,"ziwei-container",3,"ngClass"],[1,"person-info"],[1,"info-group"],[1,"info-item"],["type","text","placeholder","\u8bf7\u8f93\u5165\u59d3\u540d",1,"info-input",3,"ngModelChange","ngModel"],["type","radio","value","\u7537","name","gender",3,"ngModelChange","ngModel"],["type","radio","value","\u5973","name","gender",3,"ngModelChange","ngModel"],["type","text","placeholder","yyyy-mm-dd","inputmode","numeric","maxlength","10",1,"info-input","solar-date",3,"ngModelChange","blur","ngModel"],[1,"info-input","solar-time",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"info-btn-group"],[1,"btn-pan",3,"click"],[1,"btn-reset",3,"click"],["class","convert-result",4,"ngIf"],[1,"siHua-selector"],[1,"selector-group"],[1,"gan-select",3,"ngModelChange","change","ngModel"],[1,"siHua-options"],[1,"show-feihua-toggle"],["type","checkbox",3,"ngModelChange","ngModel"],["title","\u5728\u5bab\u4f4d\u5185\u663e\u793a\u81ea\u5316\u6807\u7b7e",1,"show-zihua-toggle"],["title","\u5207\u6362\u5927\u5b57\u4f53\u663e\u793a",1,"show-largefont-toggle"],[1,"siHua-result"],[1,"siHua-item","lu"],[1,"siHua-item","quan"],[1,"siHua-item","ke"],[1,"siHua-item","ji"],[1,"ziwei-pan"],["width","100%","height","100%","viewBox","0 0 100 100",1,"sanFang-path-svg"],[4,"ngFor","ngForOf"],["class","feiHua-path-svg","width","100%","height","100%","viewBox","0 0 100 100",4,"ngIf"],["class","center-slot",4,"ngIf"],["class","gong-item",3,"grid-row","grid-column","highlight","ngClass","shenGong","click",4,"ngFor","ngForOf"],["class","gong-detail",4,"ngIf"],[3,"value"],[1,"convert-result"],[1,"result-item"],["fill","none",3,"ngClass"],["width","100%","height","100%","viewBox","0 0 100 100",1,"feiHua-path-svg"],["id","arrow-\u5316\u7984","markerWidth","1.6","markerHeight","1.6","refX","1.4","refY","0.8","orient","auto","markerUnits","userSpaceOnUse"],["d","M0,0 L1.6,0.8 L0,1.6 Z","fill","#e74c3c"],["id","arrow-\u5316\u6743","markerWidth","1.6","markerHeight","1.6","refX","1.4","refY","0.8","orient","auto","markerUnits","userSpaceOnUse"],["d","M0,0 L1.6,0.8 L0,1.6 Z","fill","#3498db"],["id","arrow-\u5316\u79d1","markerWidth","1.6","markerHeight","1.6","refX","1.4","refY","0.8","orient","auto","markerUnits","userSpaceOnUse"],["d","M0,0 L1.6,0.8 L0,1.6 Z","fill","#27ae60"],["id","arrow-\u5316\u5fcc","markerWidth","1.6","markerHeight","1.6","refX","1.4","refY","0.8","orient","auto","markerUnits","userSpaceOnUse"],["d","M0,0 L1.6,0.8 L0,1.6 Z","fill","#34495e"],["fill","none"],[1,"center-slot"],[1,"center-info"],[1,"center-name"],[1,"center-gender"],[1,"center-solar"],[1,"center-lunar"],[1,"center-bazi"],[1,"center-wuxing-ju"],[1,"center-ming"],[1,"center-sihua"],[1,"lu"],[1,"quan"],[1,"ke"],[1,"ji"],["class","center-timeline",4,"ngIf"],[1,"center-timeline"],[1,"dayun-row"],["class","dayun-item",3,"active","click",4,"ngFor","ngForOf"],["class","liunian-row",4,"ngIf"],["class","liuyue-row",4,"ngIf"],[1,"dayun-item",3,"click"],[1,"dayun-year"],[1,"dayun-ganzhi"],[1,"liunian-row"],["class","liunian-item",3,"active","click",4,"ngFor","ngForOf"],[1,"liunian-item",3,"click"],[1,"liunian-year"],[1,"liunian-ganzhi"],[1,"liunian-xusui"],[1,"liuyue-row"],["class","liuyue-item",3,"current","selected","click",4,"ngFor","ngForOf"],[1,"liuyue-item",3,"click"],[1,"liuyue-lunar"],[1,"liuyue-ganzhi"],[1,"center-placeholder"],[1,"gong-item",3,"click","ngClass"],["class","feihua-badge-group",4,"ngIf"],[1,"gong-fangwei-tag"],[1,"assist-xing-group"],["class","xing-tag sha-tag",4,"ngIf"],["class","xing-tag za-tag",4,"ngIf"],[1,"gong-name"],["class","shenGong-tag",4,"ngIf"],[1,"xing-group"],["class"," zhu-xing",4,"ngIf"],["class","xing-tag ji-tag",4,"ngIf"],["class","gong-year-range",4,"ngIf"],["class","gong-dayun-range",4,"ngIf"],["class","gong-yun",4,"ngIf"],["class","liuyue-label","role","button","title","\u70b9\u51fb\uff1a\u6309\u6d41\u6708\u5929\u5e72\u751f\u6210\u56db\u5316\u5e76\u5728\u53f3\u4e0a\u53e6\u4e00\u884c\u9884\u89c8\uff08\u4ec5\u89c6\u89c9\uff0c\u91cd\u590d\u70b9\u51fb\u53d6\u6d88\uff09",3,"click",4,"ngIf"],["class","feiHua-tags",4,"ngIf"],["class","ziHua-group",4,"ngIf"],["class","ziHua-preview",4,"ngIf"],["class","ziHua-preview-month",4,"ngIf"],["class","dayun-ganzhi-tag","role","button","title","\u70b9\u51fb\uff1a\u6309\u5e72\u751f\u6210\u56db\u5316\u5e76\u9ad8\u4eae\u5bf9\u5e94\u4e3b\u661f\u80cc\u666f\uff08\u4ec5\u89c6\u89c9\uff0c\u4e0d\u79fb\u52a8\u5927\u8fd0\uff09",3,"active","click","mouseenter","mouseleave",4,"ngIf"],[4,"ngIf"],[1,"feihua-badge-group"],["class","liuyue-feihua-tags",4,"ngIf"],["class","liunian-feihua-tags",4,"ngIf"],["class","year-feihua-tags",4,"ngIf"],[1,"liuyue-feihua-tags"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"liunian-feihua-tags"],[1,"year-feihua-tags"],[1,"xing-tag","sha-tag"],["class","xing-item",4,"ngFor","ngForOf"],[1,"xing-item"],[1,"xing-name"],[1,"star-brightness"],[3,"ngClass",4,"ngIf"],[1,"xing-tag","za-tag"],[1,"shenGong-tag"],[1,"zhu-xing"],[1,"xing-tag","ji-tag"],[1,"gong-year-range"],[1,"gong-dayun-range"],[1,"gong-yun"],["class","yun-tag dayun-tag",4,"ngIf"],["class","yun-tag liunian-tag","role","button","title","\u70b9\u51fb\uff1a\u6309\u6d41\u5e74\u5929\u5e72\u751f\u6210\u56db\u5316\u5e76\u9ad8\u4eae\u5bf9\u5e94\u4e3b\u661f\uff08\u4ec5\u89c6\u89c9\u9884\u89c8\uff0c\u91cd\u590d\u70b9\u51fb\u53d6\u6d88\uff09",3,"click",4,"ngIf"],[1,"yun-tag","dayun-tag"],["role","button","title","\u70b9\u51fb\uff1a\u6309\u6d41\u5e74\u5929\u5e72\u751f\u6210\u56db\u5316\u5e76\u9ad8\u4eae\u5bf9\u5e94\u4e3b\u661f\uff08\u4ec5\u89c6\u89c9\u9884\u89c8\uff0c\u91cd\u590d\u70b9\u51fb\u53d6\u6d88\uff09",1,"yun-tag","liunian-tag",3,"click"],["role","button","title","\u70b9\u51fb\uff1a\u6309\u6d41\u6708\u5929\u5e72\u751f\u6210\u56db\u5316\u5e76\u5728\u53f3\u4e0a\u53e6\u4e00\u884c\u9884\u89c8\uff08\u4ec5\u89c6\u89c9\uff0c\u91cd\u590d\u70b9\u51fb\u53d6\u6d88\uff09",1,"liuyue-label",3,"click"],[1,"feiHua-tags"],[3,"class",4,"ngFor","ngForOf"],[1,"ziHua-group"],["class","ziHua-tag ziHua-\u7984",4,"ngIf"],["class","ziHua-tag ziHua-\u6743",4,"ngIf"],["class","ziHua-tag ziHua-\u79d1",4,"ngIf"],["class","ziHua-tag ziHua-\u5fcc",4,"ngIf"],[1,"ziHua-tag","ziHua-\u7984"],[1,"ziHua-tag","ziHua-\u6743"],[1,"ziHua-tag","ziHua-\u79d1"],[1,"ziHua-tag","ziHua-\u5fcc"],[1,"ziHua-preview"],[1,"ziHua-preview-month"],["role","button","title","\u70b9\u51fb\uff1a\u6309\u5e72\u751f\u6210\u56db\u5316\u5e76\u9ad8\u4eae\u5bf9\u5e94\u4e3b\u661f\u80cc\u666f\uff08\u4ec5\u89c6\u89c9\uff0c\u4e0d\u79fb\u52a8\u5927\u8fd0\uff09",1,"dayun-ganzhi-tag",3,"click","mouseenter","mouseleave"],[1,"dayun-label",3,"click"],[1,"dayun-text"],["class","dayun-taiji","title","\u592a\u6781\u70b9",4,"ngIf"],["title","\u592a\u6781\u70b9",1,"dayun-taiji"],["class","yue-label-wrapper",3,"active","group-active","click",4,"ngIf"],[1,"liunian-label",3,"click"],[1,"liunian-text"],["class","liunian-taiji","title","\u592a\u6781\u70b9",4,"ngIf"],[1,"yue-label-wrapper",3,"click"],[1,"yue-label"],["class","yue-taiji","title","\u592a\u6781\u70b9",4,"ngIf"],["title","\u592a\u6781\u70b9",1,"yue-taiji"],["title","\u592a\u6781\u70b9",1,"liunian-taiji"],[1,"gong-detail"],[1,"detail-left"],[1,"detail-right"],[1,"shengke-tag"]],template:function(t,e){1&t&&(n.j41(0,"div",0)(1,"div",1)(2,"h3"),n.EFF(3,"\u7d2b\u5fae\u6597\u6570 \xb7 \u9633\u5386\u751f\u8fb0\u5f55\u5165 + \u81ea\u52a8\u8f6c\u519c\u5386\u516b\u5b57 + \u5168\u52a8\u6001\u6392\u76d8 (\u6b63\u7edf\u5b8c\u6574\u7248)"),n.k0s(),n.j41(4,"div",2)(5,"div",3),n.EFF(6," \u59d3\u540d\uff1a"),n.j41(7,"input",4),n.mxI("ngModelChange",function(s){return n.DH7(e.personName,s)||(e.personName=s),s}),n.k0s()(),n.j41(8,"div",3),n.EFF(9," \u6027\u522b\uff1a "),n.j41(10,"label")(11,"input",5),n.mxI("ngModelChange",function(s){return n.DH7(e.personGender,s)||(e.personGender=s),s}),n.k0s(),n.EFF(12," \u7537"),n.k0s(),n.j41(13,"label")(14,"input",6),n.mxI("ngModelChange",function(s){return n.DH7(e.personGender,s)||(e.personGender=s),s}),n.k0s(),n.EFF(15," \u5973"),n.k0s()(),n.j41(16,"div",3),n.EFF(17," \u9633\u5386\u751f\u65e5\uff1a"),n.j41(18,"input",7),n.mxI("ngModelChange",function(s){return n.DH7(e.solarDate,s)||(e.solarDate=s),s}),n.bIt("blur",function(){return e.normalizeSolarDate()}),n.k0s()(),n.j41(19,"div",3),n.EFF(20," \u9633\u5386\u65f6\u8fb0\uff1a "),n.j41(21,"select",8),n.mxI("ngModelChange",function(s){return n.DH7(e.solarShi,s)||(e.solarShi=s),s}),n.DNE(22,k,2,2,"option",9),n.k0s()(),n.j41(23,"div",10)(24,"button",11),n.bIt("click",function(){return e.generateZiWeiPan()}),n.EFF(25,"\u4e00\u952e\u6392\u76d8 "),n.k0s(),n.j41(26,"button",12),n.bIt("click",function(){return e.resetPan()}),n.EFF(27,"\u91cd\u7f6e"),n.k0s()()(),n.DNE(28,Z,11,8,"div",13),n.k0s(),n.j41(29,"div",14)(30,"div",15)(31,"div"),n.EFF(32," \u751f\u5e74\u5929\u5e72(\u516b\u5b57\u5e74\u5e72)\uff1a "),n.j41(33,"select",16),n.mxI("ngModelChange",function(s){return n.DH7(e.selectedGan,s)||(e.selectedGan=s),s}),n.bIt("change",function(){return e.changeTianGan(e.selectedGan)}),n.DNE(34,R,2,2,"option",9),n.k0s()(),n.j41(35,"div"),n.EFF(36," \u6d41\u5e74\u5730\u652f\uff1a "),n.j41(37,"select",16),n.mxI("ngModelChange",function(s){return n.DH7(e.selectedLiuNianZhi,s)||(e.selectedLiuNianZhi=s),s}),n.bIt("change",function(){return e.changeLiuNianZhi(e.selectedLiuNianZhi)}),n.DNE(38,j,2,2,"option",9),n.k0s()(),n.j41(39,"div",17)(40,"label",18)(41,"input",19),n.mxI("ngModelChange",function(s){return n.DH7(e.showFeiHuaLines,s)||(e.showFeiHuaLines=s),s}),n.k0s(),n.EFF(42," \u663e\u793a\u56db\u5316\u7ebf"),n.k0s(),n.j41(43,"label",20)(44,"input",19),n.mxI("ngModelChange",function(s){return n.DH7(e.showZiHua,s)||(e.showZiHua=s),s}),n.k0s(),n.EFF(45," \u663e\u793a\u81ea\u5316"),n.k0s(),n.j41(46,"label",21)(47,"input",19),n.mxI("ngModelChange",function(s){return n.DH7(e.showLargeFont,s)||(e.showLargeFont=s),s}),n.k0s(),n.EFF(48," \u5c0f\u5b57\u4f53"),n.k0s()()(),n.j41(49,"div",22)(50,"span",23),n.EFF(51),n.k0s(),n.j41(52,"span",24),n.EFF(53),n.k0s(),n.j41(54,"span",25),n.EFF(55),n.k0s(),n.j41(56,"span",26),n.EFF(57),n.k0s()(),n.j41(58,"div",22)(59,"span",23),n.EFF(60),n.k0s(),n.j41(61,"span",24),n.EFF(62),n.k0s(),n.j41(63,"span",25),n.EFF(64),n.k0s(),n.j41(65,"span",26),n.EFF(66),n.k0s()()(),n.j41(67,"div",27),n.qSk(),n.j41(68,"svg",28),n.DNE(69,$,2,2,"ng-container",29),n.k0s(),n.DNE(70,B,11,2,"svg",30)(71,W,31,29,"div",31)(72,V,7,0,"div",31)(73,ei,24,28,"div",32),n.k0s(),n.DNE(74,ui,24,17,"div",33),n.k0s()),2&t&&(n.Y8G("ngClass",n.eq3(30,w,e.showLargeFont)),n.R7$(7),n.R50("ngModel",e.personName),n.R7$(4),n.R50("ngModel",e.personGender),n.R7$(3),n.R50("ngModel",e.personGender),n.R7$(4),n.R50("ngModel",e.solarDate),n.R7$(3),n.R50("ngModel",e.solarShi),n.R7$(),n.Y8G("ngForOf",e.SHI_OPTIONS),n.R7$(6),n.Y8G("ngIf",e.isShowPersonInfo),n.R7$(5),n.R50("ngModel",e.selectedGan),n.R7$(),n.Y8G("ngForOf",e.tianGanList),n.R7$(3),n.R50("ngModel",e.selectedLiuNianZhi),n.R7$(),n.Y8G("ngForOf",e.LIU_NIAN_ZHI),n.R7$(3),n.R50("ngModel",e.showFeiHuaLines),n.R7$(3),n.R50("ngModel",e.showZiHua),n.R7$(3),n.R50("ngModel",e.showLargeFont),n.R7$(4),n.SpI("\u751f\u5e74\u5316\u7984\uff1a",e.currentSiHua.\u5316\u7984,""),n.R7$(2),n.SpI("\u751f\u5e74\u5316\u6743\uff1a",e.currentSiHua.\u5316\u6743,""),n.R7$(2),n.SpI("\u751f\u5e74\u5316\u79d1\uff1a",e.currentSiHua.\u5316\u79d1,""),n.R7$(2),n.SpI("\u751f\u5e74\u5316\u5fcc\uff1a",e.currentSiHua.\u5316\u5fcc,""),n.R7$(3),n.Lme("\u6d41\u5e74",e.currentLiuNianGan,"\u5e72\u5316\u7984\uff1a",e.currentLiuNianFeiHua.\u5316\u7984,""),n.R7$(2),n.SpI("\u5316\u6743\uff1a",e.currentLiuNianFeiHua.\u5316\u6743,""),n.R7$(2),n.SpI("\u5316\u79d1\uff1a",e.currentLiuNianFeiHua.\u5316\u79d1,""),n.R7$(2),n.SpI("\u5316\u5fcc\uff1a",e.currentLiuNianFeiHua.\u5316\u5fcc,""),n.R7$(3),n.Y8G("ngForOf",e.sanFangLines),n.R7$(),n.Y8G("ngIf",e.showFeiHuaLines),n.R7$(),n.Y8G("ngIf",e.isShowPersonInfo),n.R7$(),n.Y8G("ngIf",!e.isShowPersonInfo),n.R7$(),n.Y8G("ngForOf",e.DYNAMIC_GONG_LIST),n.R7$(),n.Y8G("ngIf",e.selectedGong))},dependencies:[H.MD,H.YU,H.Sq,H.bT,F.YN,F.xH,F.y7,F.me,F.Zm,F.wz,F.Fm,F.BC,F.tU,F.vS,v.n8],styles:['@charset "UTF-8";.ziwei-container[_ngcontent-%COMP%]{width:90%;max-width:950px;margin:20px auto;box-sizing:border-box}.person-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px;padding:15px;border:1px solid #e0e0e0;border-radius:8px;background-color:#fafafa}.person-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;color:#2980b9;font-size:16px;line-height:1.4}.person-info[_ngcontent-%COMP%]   .info-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;flex-wrap:wrap;margin-bottom:10px}.person-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:13px;gap:5px}.person-info[_ngcontent-%COMP%]   .info-input[_ngcontent-%COMP%]{padding:4px 8px;border:1px solid #ccc;border-radius:4px;outline:none;font-size:13px;height:28px;box-sizing:border-box}.person-info[_ngcontent-%COMP%]   .solar-date[_ngcontent-%COMP%]{width:160px}.person-info[_ngcontent-%COMP%]   .solar-time[_ngcontent-%COMP%]{width:220px}.person-info[_ngcontent-%COMP%]   .info-btn-group[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px;display:inline-flex;align-items:center}.xing-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:first-child){margin-left:4px}.person-info[_ngcontent-%COMP%]   .btn-pan[_ngcontent-%COMP%]{background-color:#0d9345;color:#edf3ef}.person-info[_ngcontent-%COMP%]   .btn-reset[_ngcontent-%COMP%]{background-color:#95a5a6}.person-info[_ngcontent-%COMP%]   .convert-result[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;color:#2c3e50;line-height:1.6}.person-info[_ngcontent-%COMP%]   .convert-result[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{display:inline-block;margin:0 5px;padding:3px 8px;background-color:#f0f8ff;border-radius:4px}.person-info[_ngcontent-%COMP%]   .convert-result[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#e67e22}.siHua-selector[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.selector-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-bottom:10px;flex-wrap:wrap}.gan-select[_ngcontent-%COMP%]{padding:6px 12px;font-size:14px;border-radius:4px;border:1px solid #ccc;outline:none;cursor:pointer}.gan-select[_ngcontent-%COMP%]:hover{border-color:#3498db}.siHua-result[_ngcontent-%COMP%]{margin-top:4px;font-size:14px;line-height:1.2}.siHua-options[_ngcontent-%COMP%]{margin-top:8px}.siHua-options[_ngcontent-%COMP%]   .show-feihua-toggle[_ngcontent-%COMP%], .siHua-options[_ngcontent-%COMP%]   .show-zihua-toggle[_ngcontent-%COMP%]{font-size:12px;color:#374151;margin-right:10px}.siHua-item[_ngcontent-%COMP%]{padding:3px 8px;border-radius:3px;margin:0 3px}.siHua-item.lu[_ngcontent-%COMP%]{color:#e74c3c;font-weight:700}.siHua-item.quan[_ngcontent-%COMP%]{color:#3498db;font-weight:700}.siHua-item.ke[_ngcontent-%COMP%]{color:#27ae60;font-weight:700}.siHua-item.ji[_ngcontent-%COMP%]{color:#34495e;font-weight:700}.ziwei-pan[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-rows:repeat(4,1fr);grid-template-columns:repeat(4,1fr);gap:5px;position:relative;margin-bottom:30px;box-sizing:border-box;aspect-ratio:1/1}.sanFang-path-svg[_ngcontent-%COMP%], .feiHua-path-svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden!important;box-sizing:border-box;pointer-events:none}.sanFang-path-svg[_ngcontent-%COMP%]{z-index:6}.feiHua-path-svg[_ngcontent-%COMP%]{overflow:hidden!important;box-sizing:border-box;pointer-events:none;z-index:1}.path-sanfang[_ngcontent-%COMP%]{stroke:#d499df;stroke-width:.07;opacity:.85}.path-duigong[_ngcontent-%COMP%]{stroke:#d499df;stroke-width:.07;opacity:.7}.gong-item[_ngcontent-%COMP%]{border:2px solid #95a5a6;border-radius:8px;padding:6px 4px;text-align:center;cursor:pointer;transition:all .3s ease;background-color:#f9f9f999;position:relative;z-index:2;display:flex;flex-direction:column;justify-content:flex-start;width:100%;height:100%;box-sizing:border-box;overflow:visible!important;word-break:break-all}.gong-item.shenGong[_ngcontent-%COMP%]:hover{border-color:#c65ff2}.shenGong-tag[_ngcontent-%COMP%]{color:#9c27b0;font-size:10px;font-weight:700;padding:0 4px;border-radius:2px;background-color:#f3e5f5;margin-left:4px}.gong-fangwei-tag[_ngcontent-%COMP%]{position:absolute;font-size:10px;color:#6b7280;font-weight:600;padding:0;background:transparent;border:none;border-radius:0;z-index:99;pointer-events:none;white-space:nowrap;inset:auto 6px 74px auto!important;transform:none!important;text-align:right}.assist-xing-group[_ngcontent-%COMP%]{position:absolute;top:10px;right:6px;left:auto;transform:none;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;text-align:right;gap:4px;width:auto;max-width:80%;z-index:4}.assist-xing-group[_ngcontent-%COMP%]   .xing-tag.sha-tag[_ngcontent-%COMP%], .assist-xing-group[_ngcontent-%COMP%]   .xing-tag.za-tag[_ngcontent-%COMP%]{align-self:flex-start;text-align:left}.assist-xing-group[_ngcontent-%COMP%]   .xing-tag.sha-tag[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%], .assist-xing-group[_ngcontent-%COMP%]   .xing-tag.za-tag[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end;text-align:right;margin:0;padding:0;align-items:baseline;line-height:1.1}.gong-item[style*="grid-row: 1"][style*="grid-column: 1"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%], .gong-item[style*="grid-row: 1"][style*="grid-column: 2"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%], .gong-item[style*="grid-row: 1"][style*="grid-column: 3"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%]{top:-20px;left:50%;transform:translate(-50%)}.gong-item[style*="grid-row: 1"][style*="grid-column: 4"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%], .gong-item[style*="grid-row: 2"][style*="grid-column: 4"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%], .gong-item[style*="grid-row: 3"][style*="grid-column: 4"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%], .gong-item[style*="grid-row: 4"][style*="grid-column: 4"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%], .gong-item[style*="grid-row: 4"][style*="grid-column: 3"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%], .gong-item[style*="grid-row: 4"][style*="grid-column: 2"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%], .gong-item[style*="grid-row: 4"][style*="grid-column: 1"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%], .gong-item[style*="grid-row: 3"][style*="grid-column: 1"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%], .gong-item[style*="grid-row: 2"][style*="grid-column: 1"][_ngcontent-%COMP%]   .gong-fangwei-tag[_ngcontent-%COMP%]{top:8px;left:50%;transform:translate(-50%)}.center-slot[_ngcontent-%COMP%]{grid-row:2/span 2;grid-column:2/span 2;border:2px dashed #2980b9;border-radius:12px;display:flex;align-items:center;justify-content:center;background-color:#ffffffd9;color:#2c3e50;font-size:12px;text-align:center;z-index:2;padding:8px;box-sizing:border-box}.center-info[_ngcontent-%COMP%]{width:100%;line-height:1.5}.center-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#2980b9;margin-bottom:4px}.center-gender[_ngcontent-%COMP%], .center-lunar[_ngcontent-%COMP%]{font-size:11px;color:#7f8c8d;margin-bottom:2px}.center-bazi[_ngcontent-%COMP%]{font-size:12px;color:#e67e22;margin:2px 0}.center-ming[_ngcontent-%COMP%], .center-shen[_ngcontent-%COMP%]{font-size:12px;font-weight:500;margin:1px 0;color:#dfd4f3}.center-sihua[_ngcontent-%COMP%]{margin-top:5px;display:flex;justify-content:center;gap:5px;flex-wrap:wrap}.center-sihua[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:2px 6px;border-radius:3px;font-size:11px;color:#fff}.center-sihua[_ngcontent-%COMP%]   .lu[_ngcontent-%COMP%]{background-color:#e74c3c}.center-sihua[_ngcontent-%COMP%]   .quan[_ngcontent-%COMP%]{background-color:#3498db}.center-sihua[_ngcontent-%COMP%]   .ke[_ngcontent-%COMP%]{background-color:#27ae60}.center-sihua[_ngcontent-%COMP%]   .ji[_ngcontent-%COMP%]{background-color:#34495e}.center-placeholder[_ngcontent-%COMP%]{line-height:1.4;color:#90a4ae}.center-timeline[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-direction:column;gap:6px}.dayun-row[_ngcontent-%COMP%], .liunian-row[_ngcontent-%COMP%], .liuyue-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:6px}.liunian-row[_ngcontent-%COMP%]{grid-template-columns:repeat(10,minmax(0,1fr))}.liuyue-row[_ngcontent-%COMP%]{grid-template-columns:repeat(12,minmax(0,1fr))}.dayun-item[_ngcontent-%COMP%], .liunian-item[_ngcontent-%COMP%], .liuyue-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;padding:3px 4px;border:1px solid #d1d5db;border-radius:6px;background:#ffffffe6;font-size:10px;line-height:1.2;cursor:pointer;transition:all .2s ease;text-align:center;min-height:22px}.liuyue-item[_ngcontent-%COMP%]{min-height:40px;font-size:9px;padding:1px 2px}.dayun-item[_ngcontent-%COMP%]:hover, .liunian-item[_ngcontent-%COMP%]:hover, .liuyue-item[_ngcontent-%COMP%]:hover{border-color:#2563eb;box-shadow:0 2px 6px #2563eb1f}.dayun-item.active[_ngcontent-%COMP%]{border-color:#e67e22;background:#ffedd5f2;box-shadow:0 2px 8px #e67e2238}.liunian-item.active[_ngcontent-%COMP%]{border-color:#260bf5;background:#cdd6f7;box-shadow:0 2px 8px #580af433}.liuyue-item.current[_ngcontent-%COMP%]{border-color:#10b98180;background:#10b9810f;box-shadow:none}.liuyue-item.selected[_ngcontent-%COMP%]{border-color:#059669;background:#10b98147;box-shadow:0 2px 8px #05966940}.dayun-range[_ngcontent-%COMP%], .dayun-year[_ngcontent-%COMP%], .dayun-ganzhi[_ngcontent-%COMP%], .liunian-year[_ngcontent-%COMP%], .liunian-ganzhi[_ngcontent-%COMP%], .liunian-xusui[_ngcontent-%COMP%]{color:#4b5563}.dayun-item[_ngcontent-%COMP%]   .dayun-year[_ngcontent-%COMP%]{font-size:xx-small;font-weight:600;line-height:1.2;color:#387eef!important}.liuyue-label[_ngcontent-%COMP%], .liuyue-lunar[_ngcontent-%COMP%], .liuyue-ganzhi[_ngcontent-%COMP%]{color:#4b5563}.liuyue-ganzhi[_ngcontent-%COMP%]{font-size:10px}.liunian-year[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.gong-item[_ngcontent-%COMP%]:hover{border-color:#3498db;background-color:#f0f8ffa6;transform:scale(1.005)}.gong-item.highlight[_ngcontent-%COMP%]{border-color:#e67e22;box-shadow:0 0 8px #e67e224d;border-width:2.5px}.gong-item.highlight-main[_ngcontent-%COMP%]{background-color:#dde4fab8;border-color:#827af3;box-shadow:0 0 10px #0847f350}.gong-item.highlight-sanfang-a[_ngcontent-%COMP%]{background-color:#dbeafeb8;border-color:#3b82f6;box-shadow:0 0 10px #3b82f64d}.gong-item.highlight-sanfang-b[_ngcontent-%COMP%]{background-color:#d1fae5b3;border-color:#22c55e;box-shadow:0 0 10px #22c55e47}.gong-item.highlight-duigong[_ngcontent-%COMP%]{background-color:#f4e0ffb8;border-color:#a855f7;box-shadow:0 0 10px #a855f74d}.gong-item.highlight-finance[_ngcontent-%COMP%]{background-color:#ffe5ccb3;border-color:#fb923c;box-shadow:0 0 10px #fb923c4d}.gong-item.highlight-flow-official[_ngcontent-%COMP%]{background-color:#dcfce7b3;border-color:#34d399;box-shadow:0 0 10px #34d39947}.highlight[_ngcontent-%COMP%]{padding:.5rem;margin-top:.2rem;margin-bottom:.2rem;background-color:#f3f2fb;-ms-overflow-style:-ms-autohiding-scrollbar}@media only screen and (max-height: 575px){.highlight[_ngcontent-%COMP%]{padding:1.5rem}}.gong-name[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);bottom:5px;font-size:14px;font-weight:600;color:#dcc8ec;margin:0;z-index:3;pointer-events:none}.gong-dayun-range[_ngcontent-%COMP%]{position:absolute;right:6px;bottom:38px;transform:none;text-align:right;font-size:10px;color:#6b7280;line-height:1.2;pointer-events:none;z-index:5}.gong-year-range[_ngcontent-%COMP%]{position:absolute;right:6px;bottom:56px;transform:none;text-align:right;font-size:10px!important;color:#3872e7;line-height:1.2;pointer-events:none;z-index:5}.dayun-ganzhi-tag[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:4px;font-size:12px;font-weight:700;color:#078f32;padding:2px 6px;border-radius:4px;box-shadow:0 1px 4px #7c3aed47;pointer-events:auto;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,background-color .12s ease;z-index:4}.dayun-ganzhi-tag.active[_ngcontent-%COMP%]{font-size:12px;font-weight:700;border-radius:6px;padding:2px 6px;border:4px solid #c9ecd8;background:#ea1a85;color:#f4eaef}.dayun-ganzhi-tag[_ngcontent-%COMP%]:hover{background:#ea1a85;color:#f4eaef;box-shadow:0 3px 6px #7c3aed59;transform:translateY(1px)}.gong-meta[_ngcontent-%COMP%]{font-size:10px;color:#7f8c8d;margin-bottom:2px;line-height:1.3}.xing-group[_ngcontent-%COMP%]{margin-top:4px;padding:0;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;align-self:flex-start;text-align:left;width:auto;margin-left:2px;margin-right:auto}.xing-item[_ngcontent-%COMP%]{width:auto;margin:0;padding:0;display:flex;justify-content:flex-start;align-items:baseline;gap:0}.zhu-xing[_ngcontent-%COMP%]{font-size:18px;color:purple;font-weight:700;margin-top:0;line-height:2;text-align:left;width:auto;align-self:flex-start}.xing-tag[_ngcontent-%COMP%]{font-size:18px;padding:0;border-radius:3px;margin:2px;display:block;font-weight:600;text-align:left;width:auto;align-self:flex-start;line-height:2}.xing-tag.sha-tag[_ngcontent-%COMP%], .xing-tag.za-tag[_ngcontent-%COMP%]{align-self:flex-start;text-align:left;width:auto;margin:4px 0 0}.xing-tag.sha-tag[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%], .xing-tag.za-tag[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]{display:inline-flex;justify-content:flex-start;width:auto;text-align:left;padding-left:0;align-items:baseline}.sihua-star-lu[_ngcontent-%COMP%]{background:#c0392b;color:#fff!important;border-radius:3px;padding:0 4px;box-shadow:0 1px #00000026 inset}.star-brightness[_ngcontent-%COMP%]{font-size:12px;font-weight:100;margin:1px;padding:0}.zhu-xing[_ngcontent-%COMP%]   .star-brightness[_ngcontent-%COMP%], .xing-tag[_ngcontent-%COMP%]   .star-brightness[_ngcontent-%COMP%]{color:#9b9a9a}.sihua-star-quan[_ngcontent-%COMP%]{background:#1f6fb8;color:#fff!important;border-radius:3px;padding:0 4px}.sihua-star-ke[_ngcontent-%COMP%]{background:#1f8a4d;color:#fff!important;border-radius:3px;padding:0 4px}.sihua-star-ji[_ngcontent-%COMP%]{background:#0b0b0b;color:#fff!important;border-radius:3px;padding:0 4px;border:1px solid rgba(255,255,255,.06)}.gong-item[_ngcontent-%COMP%]   .xing-name[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-radius:4px;line-height:1.2;gap:0;position:relative}.gong-item[_ngcontent-%COMP%]   .xing-name.sihua-star-lu[_ngcontent-%COMP%], .gong-item[_ngcontent-%COMP%]   .xing-name.sihua-star-quan[_ngcontent-%COMP%], .gong-item[_ngcontent-%COMP%]   .xing-name.sihua-star-ke[_ngcontent-%COMP%], .gong-item[_ngcontent-%COMP%]   .xing-name.sihua-star-ji[_ngcontent-%COMP%]{padding:0;color:inherit!important;background:transparent!important;border:none!important;box-shadow:none!important}.gong-item[_ngcontent-%COMP%]   .xing-name.sihua-hover-lu[_ngcontent-%COMP%]{background:#c0392b!important;color:#fff!important;border-radius:3px;padding:0 1px}.gong-item[_ngcontent-%COMP%]   .xing-name.sihua-hover-quan[_ngcontent-%COMP%]{background:#1f6fb8!important;color:#fff!important;border-radius:3px;padding:0 1px}.gong-item[_ngcontent-%COMP%]   .xing-name.sihua-hover-ke[_ngcontent-%COMP%]{background:#1f8a4d!important;color:#fff!important;border-radius:3px;padding:0 1px}.gong-item[_ngcontent-%COMP%]   .xing-name.sihua-hover-ji[_ngcontent-%COMP%]{background:#0b0b0b!important;color:#fff!important;border-radius:3px;padding:0 1px;border:1px solid rgba(255,255,255,.06)}.gong-item[_ngcontent-%COMP%]   .xing-name.sihua-click-lu[_ngcontent-%COMP%]{background:#c0392b!important;color:#fff!important;border-radius:3px;padding:0 1px}.gong-item[_ngcontent-%COMP%]   .xing-name.sihua-click-quan[_ngcontent-%COMP%]{background:#1f6fb8!important;color:#fff!important;border-radius:3px;padding:0 1px}.gong-item[_ngcontent-%COMP%]   .xing-name.sihua-click-ke[_ngcontent-%COMP%]{background:#1f8a4d!important;color:#fff!important;border-radius:3px;padding:0 1px}.gong-item[_ngcontent-%COMP%]   .xing-name.sihua-click-ji[_ngcontent-%COMP%]{background:#0b0b0b!important;color:#fff!important;border-radius:3px;padding:0 1px;border:1px solid rgba(255,255,255,.06)}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .star-brightness[_ngcontent-%COMP%]:after{content:none}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-star-lu[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after{content:"\\7984";display:inline-flex;align-items:center;justify-content:center;min-width:16px;height:16px;margin-left:6px;padding:0 4px;border-radius:4px;font-size:12px;font-weight:700;line-height:1;vertical-align:middle;background:transparent;border:1px solid currentColor;box-shadow:none;color:#e74c3c}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-star-quan[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after{content:"\\6743";display:inline-flex;align-items:center;justify-content:center;min-width:16px;height:16px;margin-left:6px;padding:0 4px;border-radius:4px;font-size:12px;font-weight:700;line-height:1;vertical-align:middle;background:transparent;border:1px solid currentColor;box-shadow:none;color:#3498db}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-star-ke[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after{content:"\\79d1";display:inline-flex;align-items:center;justify-content:center;min-width:16px;height:16px;margin-left:6px;padding:0 4px;border-radius:4px;font-size:12px;font-weight:700;line-height:1;vertical-align:middle;background:transparent;border:1px solid currentColor;box-shadow:none;color:#27ae60}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-star-ji[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after{content:"\\5fcc";display:inline-flex;align-items:center;justify-content:center;min-width:16px;height:16px;margin-left:6px;padding:0 4px;border-radius:4px;font-size:12px;font-weight:700;line-height:1;vertical-align:middle;background:transparent;border:1px solid currentColor;box-shadow:none;color:#34495e}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-year-lu[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after{content:"\\7984";display:inline-flex;align-items:center;justify-content:center;min-width:16px;height:16px;margin-left:6px;padding:0 4px;border-radius:4px;font-size:12px;font-weight:700;line-height:1;vertical-align:middle;background:#e74c3c;color:#fff;border:none}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-year-quan[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after{content:"\\6743";display:inline-flex;align-items:center;justify-content:center;min-width:16px;height:16px;margin-left:6px;padding:0 4px;border-radius:4px;font-size:12px;font-weight:700;line-height:1;vertical-align:middle;background:#3498db;color:#fff;border:none}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-year-ke[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after{content:"\\79d1";display:inline-flex;align-items:center;justify-content:center;min-width:16px;height:16px;margin-left:6px;padding:0 4px;border-radius:4px;font-size:12px;font-weight:700;line-height:1;vertical-align:middle;background:#27ae60;color:#fff;border:none}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-year-ji[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after{content:"\\5fcc";display:inline-flex;align-items:center;justify-content:center;min-width:16px;height:16px;margin-left:6px;padding:0 4px;border-radius:4px;font-size:12px;font-weight:700;line-height:1;vertical-align:middle;background:#34495e;color:#fff;border:none}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-star-lu[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after, .gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-star-quan[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after, .gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-star-ke[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after, .gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-star-ji[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after, .gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-year-lu[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after, .gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-year-quan[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after, .gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-year-ke[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after, .gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .sihua-year-ji[_ngcontent-%COMP%] ~ .star-brightness[_ngcontent-%COMP%]:after{content:none!important;display:none!important}.gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .year-feihua-badge[_ngcontent-%COMP%], .gong-item[_ngcontent-%COMP%]   .xing-item[_ngcontent-%COMP%]   .dayun-feihua-badge[_ngcontent-%COMP%]{margin-left:6px;display:inline-flex;align-items:center;vertical-align:middle}.xing-name[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-radius:4px;line-height:1.05;transition:background-color .12s ease,color .12s ease,transform .12s ease}.ji-tag[_ngcontent-%COMP%]{font-size:18px;color:#9f029f;font-weight:700;margin:0;line-height:2;background-color:transparent}.za-tag[_ngcontent-%COMP%]{background-color:transparent;color:#f59e0b;font-size:18px;padding:0;margin-top:0;font-weight:600}.highlight-star[_ngcontent-%COMP%]{display:inline-block;border-bottom:none;padding-top:4px;color:#d33c3c;font-weight:700}.feihua-badge-group[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;display:flex;flex-direction:column;align-items:flex-end;gap:4px;max-width:80%;pointer-events:none;z-index:5}.feihua-badge-group[_ngcontent-%COMP%]   .ziHua-preview[_ngcontent-%COMP%], .ziHua-preview[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-60%);display:flex;flex-direction:row;align-items:center;justify-content:center;gap:6px;pointer-events:none;z-index:8}.ziHua-preview-month[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;display:inline-flex;flex-wrap:wrap;align-items:center;justify-content:flex-start;gap:4px;pointer-events:none;z-index:3;margin-top:4px;margin-left:0;align-self:flex-start}.feihua-badge-group[_ngcontent-%COMP%], .feiHua-tags[_ngcontent-%COMP%], .liuyue-feihua-tags[_ngcontent-%COMP%], .liunian-feihua-tags[_ngcontent-%COMP%], .year-feihua-tags[_ngcontent-%COMP%]{display:none!important;visibility:hidden!important}.gong-item[_ngcontent-%COMP%] > .year-feihua-tags-left[_ngcontent-%COMP%]{display:flex}.liuyue-feihua-tags[_ngcontent-%COMP%], .year-feihua-tags[_ngcontent-%COMP%], .liunian-feihua-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1px;pointer-events:none;max-width:72px;justify-content:flex-start}.dayun-feihua-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:16px;padding:4px;border-radius:10px;font-size:13px;font-weight:700;color:#2d3748;line-height:1;background:transparent;border:1px solid currentColor;box-shadow:none}.liuyue-feihua-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:20px;padding:3px;border-radius:4px;font-size:13px;font-weight:600;line-height:1;border-top:4px solid #27ae60;background:#cbf3e6ad;box-shadow:none}.liuyue-feihua-lu[_ngcontent-%COMP%]{color:#e74c3c}.liuyue-feihua-quan[_ngcontent-%COMP%]{color:#3498db}.liuyue-feihua-ke[_ngcontent-%COMP%]{color:#27ae60}.liuyue-feihua-ji[_ngcontent-%COMP%]{color:#34495e}.dayun-feihua-lu[_ngcontent-%COMP%]{background:transparent;color:#e74c3c}.dayun-feihua-quan[_ngcontent-%COMP%]{background:transparent;color:#3498db}.dayun-feihua-ke[_ngcontent-%COMP%]{background:transparent;color:#27ae60}.dayun-feihua-ji[_ngcontent-%COMP%]{background:transparent;color:#000;border:1px solid #34495e;box-shadow:none}.year-feihua-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:16px;padding:4px;border-radius:10px;font-size:13px;font-weight:600;color:#fff;line-height:1;background:#fbe2fb;box-shadow:none}.year-feihua-lu[_ngcontent-%COMP%]{background:#e74c3c;color:#fff}.year-feihua-quan[_ngcontent-%COMP%]{background:#3498db;color:#fff}.year-feihua-ke[_ngcontent-%COMP%]{background:#27ae60;color:#fff}.year-feihua-ji[_ngcontent-%COMP%]{background:#34495e;color:#fff}.liunian-feihua-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:20px;padding:3px;border-radius:4px;font-size:13px;font-weight:600;color:#2563eb;line-height:1;border-top:4px solid #2563eb;background:#dadff5;box-shadow:none}.liunian-feihua-lu[_ngcontent-%COMP%]{color:#e74c3c}.liunian-feihua-quan[_ngcontent-%COMP%]{color:#3498db}.liunian-feihua-ke[_ngcontent-%COMP%]{color:#27ae60}.liunian-feihua-ji[_ngcontent-%COMP%]{color:#34495e}.feiHua-tags[_ngcontent-%COMP%]{position:absolute;top:30px;right:6px;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:2px;max-width:60%;margin-top:0;z-index:4;pointer-events:none}.feiHua-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;font-size:11px;padding:2px 4px;border-radius:2px;margin:0 1px;color:#fff}.gong-item[_ngcontent-%COMP%] > .dayun-feihua-tags[_ngcontent-%COMP%]{position:absolute;top:6px;left:4px;right:8px;display:flex;gap:2px;align-items:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;z-index:6;pointer-events:none;font-size:12px;font-weight:700;color:#2d3748;padding-left:26px}@media screen and (max-width: 480px){.gong-item[_ngcontent-%COMP%] > .dayun-feihua-tags[_ngcontent-%COMP%]{top:6px;gap:6px;font-size:12px;padding-left:44px}}.gong-item[_ngcontent-%COMP%] > .year-feihua-tags-left[_ngcontent-%COMP%]{position:absolute;top:6px;left:6px;display:flex;gap:2px;align-items:center;z-index:8;pointer-events:none}.gong-item[_ngcontent-%COMP%] > .year-feihua-tags-left[_ngcontent-%COMP%]   .year-feihua-badge[_ngcontent-%COMP%]{min-width:20px;padding:5px;border-radius:4px;font-size:12px;font-weight:600;color:#fff;box-shadow:0 1px #0000000f}@media screen and (max-width: 480px){.gong-item[_ngcontent-%COMP%] > .year-feihua-tags-left[_ngcontent-%COMP%]   .year-feihua-badge[_ngcontent-%COMP%]{padding:2px 5px;font-size:11px}}.\\98de\\5316\\7984[_ngcontent-%COMP%] {background-color:#e74c3c}.\\98de\\5316\\6743[_ngcontent-%COMP%] {background-color:#3498db}.\\98de\\5316\\79d1[_ngcontent-%COMP%] {background-color:#27ae60}.\\98de\\5316\\5fcc[_ngcontent-%COMP%] {background-color:#34495e}.ziHua-group[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:inline-flex;flex-direction:row;align-items:center;justify-content:center;gap:6px;z-index:7;pointer-events:none}@media screen and (max-width: 480px){.ziHua-group[_ngcontent-%COMP%]{gap:4px;font-size:11px}}.ziHua-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:flex-start;font-size:11px;font-weight:700;color:#fff;padding:1px 4px;border-radius:4px}.ziHua-tag.ziHua-\\7984[_ngcontent-%COMP%] {background-color:#e74c3c}.ziHua-tag.ziHua-\\6743[_ngcontent-%COMP%] {background-color:#3498db}.ziHua-tag.ziHua-\\79d1[_ngcontent-%COMP%] {background-color:#27ae60}.ziHua-tag.ziHua-\\5fcc[_ngcontent-%COMP%] {background-color:#34495e}.gong-detail[_ngcontent-%COMP%]{padding:15px;border:1px solid #bdc3c7;border-radius:8px;background-color:#fcfcfc;display:flex;flex-wrap:wrap;justify-content:space-between;gap:15px;box-sizing:border-box}.gong-detail[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2980b9;margin-top:0;width:100%;border-bottom:1px solid #eee;padding-bottom:6px;font-size:16px;margin-bottom:8px}.gong-detail[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#e67e22;margin-top:0;font-size:14px;margin-bottom:6px}.detail-left[_ngcontent-%COMP%], .detail-right[_ngcontent-%COMP%]{flex:1;min-width:250px}.gong-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;line-height:1.6;margin:3px 0}.shengke-tag[_ngcontent-%COMP%]{color:#fff;background-color:#2980b9;padding:1px 4px;border-radius:2px;font-size:10px;margin-left:5px}@media screen and (max-width: 768px){.ziwei-container[_ngcontent-%COMP%]{width:98%}.gong-name[_ngcontent-%COMP%]{font-size:14px}.gong-meta[_ngcontent-%COMP%]{font-size:9px}.zhu-xing[_ngcontent-%COMP%]{font-size:10px}.xing-tag[_ngcontent-%COMP%]{font-size:8px}.person-info[_ngcontent-%COMP%]   .info-group[_ngcontent-%COMP%]{gap:5px}.person-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{font-size:12px}.solar-date[_ngcontent-%COMP%]{width:140px}.solar-time[_ngcontent-%COMP%]{width:180px}.convert-result[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{display:block;margin:5px 0}.gong-fangwei-tag[_ngcontent-%COMP%]{font-size:8px;right:6px!important;bottom:74px!important;padding:0 2px;max-width:60px;overflow:hidden;text-overflow:ellipsis}}.yun-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;color:#fff;padding:1px 6px;border-radius:999px;line-height:1}.dayun-label[_ngcontent-%COMP%]{position:absolute;bottom:8px;left:4px;font-size:14px;font-weight:700;color:#8c5e06;padding:2px 6px;border-radius:8px;background:#f8f5de;z-index:3;pointer-events:auto;cursor:pointer;transition:box-shadow .15s ease,background .15s ease,color .15s ease;display:inline-flex;align-items:center;gap:0;transform-origin:left bottom}.dayun-label[_ngcontent-%COMP%]:hover   .dayun-text[_ngcontent-%COMP%]{font-size:16px}.dayun-label.active[_ngcontent-%COMP%], .dayun-label.group-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d8b4fe,#7c3aed);color:#fff}.dayun-label.active[_ngcontent-%COMP%]{box-shadow:0 2px 10px #7c3aed59}.dayun-text[_ngcontent-%COMP%]{display:inline-flex;align-items:center;transition:font-size .15s ease}.dayun-taiji[_ngcontent-%COMP%]{position:absolute;top:50%;right:-26px;transform:translateY(-50%);display:inline-flex;align-items:center;justify-content:center;font-size:30px;color:#ebad29;font-weight:700;line-height:1;background:transparent!important}.liunian-label[_ngcontent-%COMP%]{position:absolute;bottom:36px;left:4px;font-size:14px;font-weight:600;color:#1d4ed8;padding:2px 6px;border-radius:4px;background:#ede9fe;z-index:3;pointer-events:auto;cursor:pointer;transition:box-shadow .15s ease,background .15s ease,color .15s ease;display:inline-flex;align-items:center;gap:0;transform-origin:left bottom}.liunian-label[_ngcontent-%COMP%]:hover   .liunian-text[_ngcontent-%COMP%]{font-size:16px}.liunian-text[_ngcontent-%COMP%]{display:inline-flex;align-items:center;transition:font-size .15s ease}.liunian-label.active[_ngcontent-%COMP%], .liunian-label.group-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d8b4fe,#6d28d9);color:#fff}.liunian-label.active[_ngcontent-%COMP%]{box-shadow:0 2px 10px #7c3aed59}.yue-label-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:64px;left:4px;display:inline-flex;align-items:center;gap:0;z-index:3;pointer-events:auto;cursor:pointer;transition:box-shadow .15s ease;white-space:nowrap;transform-origin:left bottom}.yue-label-wrapper[_ngcontent-%COMP%]:hover   .yue-label[_ngcontent-%COMP%]{font-size:15px}.yue-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#047857;padding:2px 6px;border-radius:6px;display:inline-flex;align-items:center;transition:font-size .15s ease,background .15s ease,color .15s ease;background:#eef9f5}.yue-taiji[_ngcontent-%COMP%]{position:absolute;top:50%;right:-22px;transform:translateY(-50%);display:inline-flex;align-items:center;justify-content:center;color:#047857;font-weight:700;font-size:26px;line-height:1;background:transparent!important;padding:0}.yue-label-wrapper.active[_ngcontent-%COMP%]{box-shadow:0 2px 10px #7c3aed59}.yue-label-wrapper.group-active[_ngcontent-%COMP%]   .yue-label[_ngcontent-%COMP%], .yue-label-wrapper.active[_ngcontent-%COMP%]   .yue-label[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d8b4fecc,#7c3aedd9);color:#fff}.liuyue-label[_ngcontent-%COMP%]{position:absolute;bottom:66px;left:50%;transform:translate(-50%);display:inline-flex;align-items:center;justify-content:center;padding:1px 4px;font-size:11px;font-weight:600;color:#047857;background:linear-gradient(135deg,#adf5c8,#19e366);border-radius:8px;z-index:3;pointer-events:auto;cursor:pointer;white-space:nowrap;transition:background .15s ease,color .15s ease}.liuyue-label.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d8b4fe,#6219df);color:#fff}.liunian-taiji[_ngcontent-%COMP%]{position:absolute;top:50%;right:-23px;transform:translateY(-50%);display:inline-flex;align-items:center;justify-content:center;font-size:28px;color:#2644ec;font-weight:700;line-height:1;background:transparent!important}@media screen and (max-width: 768px){.gong-dayun-range[_ngcontent-%COMP%]{font-size:10px;margin-bottom:2px}.gong-yun[_ngcontent-%COMP%]   .dayun-tag[_ngcontent-%COMP%]{font-size:10px;padding:4px}.dayun-ganzhi-tag[_ngcontent-%COMP%]{font-size:10px;bottom:2px;right:2px;padding:1px 4px}}.gong-yun[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px;justify-content:center;margin-bottom:2px}.gong-yun[_ngcontent-%COMP%]   .yun-tag[_ngcontent-%COMP%]{font-size:12px;padding:2px 8px}.gong-yun[_ngcontent-%COMP%]   .dayun-tag[_ngcontent-%COMP%]{position:absolute;bottom:24px;background:linear-gradient(135deg,#fefeb4,#e3a619)}.gong-yun[_ngcontent-%COMP%]   .liunian-tag[_ngcontent-%COMP%]{position:absolute;bottom:42px;background:linear-gradient(135deg,#909efc,#3a3ded)}.center-wuxing-ju[_ngcontent-%COMP%]{font-size:12px;color:#2980b9;margin:2px 0;font-weight:500;background-color:#e1f5fe;padding:2px 8px;border-radius:4px;display:inline-block}@media screen and (max-width: 768px){.center-wuxing-ju[_ngcontent-%COMP%]{font-size:11px;padding:1px 6px}}.ziwei-container.large-font[_ngcontent-%COMP%]   .ziwei-pan[_ngcontent-%COMP%]   .gong-item[_ngcontent-%COMP%]{font-size:15px}.ziwei-container.large-font[_ngcontent-%COMP%]   .ziwei-pan[_ngcontent-%COMP%]   .gong-item[_ngcontent-%COMP%]   .gong-name[_ngcontent-%COMP%], .ziwei-container.large-font[_ngcontent-%COMP%]   .ziwei-pan[_ngcontent-%COMP%]   .gong-item[_ngcontent-%COMP%]   .zhu-xing[_ngcontent-%COMP%]{font-size:16px}.ziwei-container.large-font[_ngcontent-%COMP%]   .ziwei-pan[_ngcontent-%COMP%]   .gong-item[_ngcontent-%COMP%]   .xing-tag[_ngcontent-%COMP%]{font-size:18px}.ziwei-container.large-font[_ngcontent-%COMP%]   .ziwei-pan[_ngcontent-%COMP%]   .gong-item[_ngcontent-%COMP%]   .xing-name[_ngcontent-%COMP%]{font-size:18px;padding:0}.ziwei-container.large-font[_ngcontent-%COMP%]   .ziwei-pan[_ngcontent-%COMP%]   .gong-item[_ngcontent-%COMP%]   .feihua-badge-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .ziwei-container.large-font[_ngcontent-%COMP%]   .ziwei-pan[_ngcontent-%COMP%]   .gong-item[_ngcontent-%COMP%]   .ziHua-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .ziwei-container.large-font[_ngcontent-%COMP%]   .ziwei-pan[_ngcontent-%COMP%]   .gong-item[_ngcontent-%COMP%]   .ziHua-preview-month[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;padding:2px 6px}']})}}return u})()}}]);